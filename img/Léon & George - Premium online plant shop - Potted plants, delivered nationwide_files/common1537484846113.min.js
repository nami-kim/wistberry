function cartShow(){"undefined"!=typeof mixpanel&&mixpanel.track("PF - Cart Panel Opened"),$("#shopping-cart").removeClass("hidden"),$("#shopping-cart #cart-active-overlay ").show(),$("#shopping-cart #cart-overview").removeClass("inactive"),$("body").addClass("modal-open prevent-background-scroll"),$("html").addClass("prevent-background-scroll")}function cartHide(){$("#shopping-cart #cart-overview").addClass("inactive"),$("#shopping-cart #cart-active-overlay ").hide(),$("body").removeClass("modal-open prevent-background-scroll"),$("html").removeClass("prevent-background-scroll")}function updateCount(e){parseInt(e.total_items)>0?($(".chec-items-count").html("("+e.total_items+")"),$(".chec-items-count.label").html(e.total_items)):$(".chec-items-count").html("")}(function(){window.Spaces={},Spaces.AddToCart=function(e,t,a){var n;t=t||function(){return!0};if(void 0===a&&(a=null),e.hasOwnProperty("variant_id")&&e.hasOwnProperty("variant_option_id")){var i={};i[e.variant_id]=e.variant_option_id,n={id:e.product_id,variant:i,quantity:a}}else n={id:e.product_id,quantity:a};return $("#btn-checkout .fa-shopping-cart").removeClass("fa-shopping-cart").addClass("fa-check"),"prod_7ZAMo1EMxoNJ4x"!==e.product_id&&"prod_DWy4oGxxK56Jx2"!==e.product_id&&($("#shopping-cart .empty").html('<i class="fa fa-spinner fa-spin"></i> Loading cart...'),cartShow()),CommercejsSpace.Cart.add(n,function(e){"undefined"!=typeof mixpanel&&mixpanel.track("PF - Add To Cart Btn Clicked"),"undefined"!=typeof ga&&(ga("ec:addProduct",{id:e.product_id,name:e.product_name,category:"Plant",brand:"L&G",price:e.line_total.raw,quantity:e.quantity}),ga("ec:setAction","add"),ga("send","event","UX","click","add to cart"),dataLayer.push({event:"addedToCart"})),Spaces.cartUpdate(e),t(!0)})},Spaces.oneClickPurchase=function(e,t){var a={id:e};return CommercejsSpace.Cart.add(a,function(e){if(!0===t.direct)return window.location.href="/safe-checkout";cartShow(),Spaces.cartUpdate(e,function(e){})})},Spaces.removeItem=function(e){return CommercejsSpace.Cart.remove(e,function(e){return Spaces.cartUpdate(e)})},Spaces.quantity=function(e,t){var a;return a={quantity:t},CommercejsSpace.Cart.update(e,a,function(e){return Spaces.cartUpdate(e)})},Spaces.cartUpdate=function(e){var t;if($("#shopping-cart .empty").html("Cart is empty!"),$("#shopping-cart .empty").remove(),$(".plant-quality-warning").show(),$("#cart-overview ul.line-items").html(""),t=void 0===e.cart?e:e.cart,$.isEmptyObject(t.line_items)){var a="fr"===generalMarket.toLowerCase()?"Le panier est vide!":"Cart is empty!";$("#cart-overview ul.line-items").html('<li class="empty">'+a+"</li>"),$(".plant-quality-warning").hide(),$("#goToCheckout").hide(),$(".closing .btn").addClass("disabled")}else $(".closing .btn").removeClass("disabled"),$("#cart-overview ul.line-items").html(""),$.each(t.line_items,function(e,t){var a,n,i="";return void 0!==t.variants&&t.variants.length>0&&(i=t.variants[0].option_name),"prod_ypbroEjK658n4e"===t.product_id&&(n="disabled"),a="prod_8XO3wpz7E5YAzQ"===t.product_id?"<li><span class=\"line-item-name\"><img src='/images/addons/free-miflora.jpg' style='border: 1px solid #ccc; margin-right: 10px;' width='50px'><a target='_blank' href='https://blog.leonandgeorge.com/posts/2018/4/7/the-miflora-plant-sensor'>"+t.name+"</a><br/><small>"+i+'</small></span> <span class="line-item-quantity-alt"><input type="text" '+n+' disabled value="'+t.quantity+'"></span> <span class="line-item-price">'+t.line_total.formatted_with_symbol+"</span> <span onclick=\"Spaces.removeItem('"+t.id+'\');  $(this).attr(\'onclick\', \'\')" class="line-item-remove" title="Remove from cart"><i class="fa fa-trash" aria-hidden="true"></i></span> <span class="line-item-variants"></span> </li>':'<li><span class="line-item-name">'+t.name+"<br/><small>"+i+'</small></span> <span class="line-item-quantity-alt"><input type="text" '+n+" onchange=\"Spaces.quantity('"+t.id+'\', $(this).val())" value="'+t.quantity+'"></span> <span class="line-item-price">'+t.line_total.formatted_with_symbol+"</span> <span onclick=\"Spaces.removeItem('"+t.id+'\');  $(this).attr(\'onclick\', \'\')" class="line-item-remove" title="Remove from cart"><i class="fa fa-trash" aria-hidden="true"></i></span> <span class="line-item-variants"></span> </li>',$("#cart-overview ul.line-items").append(a)}),$("#goToCheckout").show();return $("#cart-overview .subtotal span").html(t.subtotal.formatted_with_symbol+" <i>"+t.currency.code+"</i>"),updateCount(t),$('#chec-basket span[data-chec="cart-subtotal"]').html(""+t.subtotal.formatted_with_symbol)},Spaces.goToCheckout=function(){"undefined"!=typeof mixpanel&&mixpanel.track("PF - Checkout Btn Clicked");var e=document.getElementById("goToCheckout");return $(e).button("loading"),CommercejsSpace.Cart.retrieve(function(t){if(t.total_items>0){return""!==getCookie("userMarket")&&getCookie("userMarket"),window.location.href="/safe-checkout/"+t.id}$(e).button("reset")})}}).call(this),$(".hover-overlay").on("touchstart",function(e){"use strict";var t=$(this);return!!t.hasClass("hover")||(t.addClass("hover"),$(".hover-overlay").not(this).removeClass("hover"),e.preventDefault(),!1)}),-1===window.location.pathname.search("/thanks")&&-1===window.location.pathname.search("/safe-checkout")&&""!==getCookie("commercejs_cart_id")&&window.addEventListener("Commercejs.Cart.Ready",function(e){CommercejsSpace.Cart.retrieve(function(e){Spaces.cartUpdate(e)})},!1);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnQuanMiXSwibmFtZXMiOlsiY2FydFNob3ciLCJtaXhwYW5lbCIsInRyYWNrIiwiJCIsInJlbW92ZUNsYXNzIiwic2hvdyIsImFkZENsYXNzIiwiY2FydEhpZGUiLCJoaWRlIiwidXBkYXRlQ291bnQiLCJkYXRhIiwicGFyc2VJbnQiLCJ0b3RhbF9pdGVtcyIsImh0bWwiLCJ3aW5kb3ciLCJTcGFjZXMiLCJBZGRUb0NhcnQiLCJwcm9kdWN0IiwiY2FsbGJhY2siLCJxdWFudGl0eSIsInBvc3QiLCJoYXNPd25Qcm9wZXJ0eSIsInZhcmlhbnQiLCJ2YXJpYW50X2lkIiwidmFyaWFudF9vcHRpb25faWQiLCJpZCIsInByb2R1Y3RfaWQiLCJDb21tZXJjZWpzU3BhY2UiLCJDYXJ0IiwiYWRkIiwiZ2EiLCJuYW1lIiwicHJvZHVjdF9uYW1lIiwiY2F0ZWdvcnkiLCJicmFuZCIsInByaWNlIiwibGluZV90b3RhbCIsInJhdyIsImRhdGFMYXllciIsInB1c2giLCJldmVudCIsImNhcnRVcGRhdGUiLCJvbmVDbGlja1B1cmNoYXNlIiwib3B0aW9ucyIsImRpcmVjdCIsImxvY2F0aW9uIiwiaHJlZiIsInJlc3AiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiYW1vdW50IiwidXBkYXRlIiwiY2FydCIsImlzRW1wdHlPYmplY3QiLCJsaW5lX2l0ZW1zIiwidGV4dEVtcHR5IiwiZ2VuZXJhbE1hcmtldCIsInRvTG93ZXJDYXNlIiwiZWFjaCIsImsiLCJpdGVtIiwibGluZV9pdGVtX2h0bWwiLCJxdGVDaCIsIm9wdGlvbl9uYW1lIiwidmFyaWFudHMiLCJsZW5ndGgiLCJmb3JtYXR0ZWRfd2l0aF9zeW1ib2wiLCJhcHBlbmQiLCJzdWJ0b3RhbCIsImN1cnJlbmN5IiwiY29kZSIsImdvVG9DaGVja291dCIsImJ1dHRvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXRyaWV2ZSIsImdldENvb2tpZSIsImNhbGwiLCJ0aGlzIiwib24iLCJlIiwibGluayIsImhhc0NsYXNzIiwibm90IiwicHJldmVudERlZmF1bHQiLCJwYXRobmFtZSIsInNlYXJjaCIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQTJNQSxTQUFTQSxXQUNrQixvQkFBYkMsVUFDVkEsU0FBU0MsTUFBTywwQkFFbEJDLEVBQUcsa0JBQW1CQyxZQUFhLFVBQ25DRCxFQUFHLHdDQUF5Q0UsT0FDNUNGLEVBQUcsaUNBQWtDQyxZQUFhLFlBQ2xERCxFQUFHLFFBQVNHLFNBQVUsd0NBQ3RCSCxFQUFHLFFBQVNHLFNBQVUsNkJBR3hCLFNBQVNDLFdBRVBKLEVBQUcsaUNBQWtDRyxTQUFVLFlBQy9DSCxFQUFHLHdDQUF5Q0ssT0FDNUNMLEVBQUcsUUFBU0MsWUFBYSx3Q0FDekJELEVBQUcsUUFBU0MsWUFBYSw2QkFHM0IsU0FBU0ssWUFBYUMsR0FDZkMsU0FBVUQsRUFBS0UsYUFBZ0IsR0FDbENULEVBQUcscUJBQXNCVSxLQUFNLElBQU1ILEVBQUtFLFlBQWMsS0FDeERULEVBQUcsMkJBQTRCVSxLQUFNSCxFQUFLRSxjQUUxQ1QsRUFBRyxxQkFBc0JVLEtBQU0sS0FuT25DLFdBQ0VDLE9BQU9DLE9BQVMsR0FDaEJBLE9BQU9DLFVBQVksU0FBV0MsRUFBU0MsRUFBVUMsR0FDL0MsSUFBSUMsRUFDQUYsRUFBV0EsR0FBWSxXQUN6QixPQUFPLEdBT1QsUUFKeUIsSUFBYkMsSUFDVkEsRUFBVyxNQUdSRixFQUFRSSxlQUFnQixlQUFrQkosRUFBUUksZUFBZ0IscUJBQXdCLENBQzdGLElBQUlDLEVBQVUsR0FDZEEsRUFBU0wsRUFBUU0sWUFBZU4sRUFBUU8sa0JBQ3hDSixFQUFPLENBQ0xLLEdBQUlSLEVBQVFTLFdBQ1pKLFFBQVNBLEVBQ1RILFNBQVVBLFFBR1pDLEVBQU8sQ0FDTEssR0FBSVIsRUFBUVMsV0FDWlAsU0FBVUEsR0FZZCxPQVJBaEIsRUFBRyxtQ0FBb0NDLFlBQWEsb0JBQXFCRSxTQUFVLFlBR3ZELHdCQUF2QlcsRUFBUVMsWUFBK0Qsd0JBQXZCVCxFQUFRUyxhQUMzRHZCLEVBQUcs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QUFLaUIsU0FBU0MsS0FBTyxRQUMvRzdELFlBQWEyQyxHQUNOakQsRUFBRyxnREFBaURVLEtBQU0sR0FBS3VDLEVBQUtnQixTQUFTRix3QkFHdEZuRCxPQUFPd0QsYUFBZSxXQUNLLG9CQUFidEUsVUFDVkEsU0FBU0MsTUFBTyw2QkFFbEIsSUFBSXNFLEVBQVNDLFNBQVNDLGVBQWdCLGdCQUV0QyxPQURBdkUsRUFBR3FFLEdBQVNBLE9BQVEsV0FDYjdDLGdCQUFnQkMsS0FBSytDLFNBQVUsU0FBVzVCLEdBQy9DLEdBQUtBLEVBQUtuQyxZQUFjLEVBQUksQ0FLMUIsTUFIbUMsS0FBOUJnRSxVQUFXLGVBQ0RBLFVBQVcsY0FFbkI5RCxPQUFPK0IsU0FBU0MsS0FBTyxrQkFBb0JDLEVBQUt0QixHQUV2RHRCLEVBQUdxRSxHQUFTQSxPQUFRLGNBT3hCSyxLQUFNQyxNQUVWM0UsRUFBRyxrQkFBbUI0RSxHQUFJLGFBQWMsU0FBV0MsR0FDakQsYUFDQSxJQUFJQyxFQUFPOUUsRUFBRzJFLE1BQ2QsUUFBS0csRUFBS0MsU0FBVSxXQUdsQkQsRUFBSzNFLFNBQVUsU0FDZkgsRUFBRyxrQkFBbUJnRixJQUFLTCxNQUFPMUUsWUFBYSxTQUMvQzRFLEVBQUVJLGtCQUNLLE1BZ0M4QyxJQUFsRHRFLE9BQU8rQixTQUFTd0MsU0FBU0MsT0FBUSxhQUFtRixJQUF6RHhFLE9BQU8rQixTQUFTd0MsU0FBU0MsT0FBUSxtQkFDdEQsS0FBdENWLFVBQVcsdUJBQ2Q5RCxPQUFPeUUsaUJBQWtCLHdCQUF5QixTQUFXUCxHQUMzRHJELGdCQUFnQkMsS0FBSytDLFNBQVUsU0FBV2pFLEdBQ3hDSyxPQUFPMEIsV0FBWS9CLE9BR3BCIiwiZmlsZSI6ImNhcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uICgpIHtcbiAgd2luZG93LlNwYWNlcyA9IHt9O1xuICBTcGFjZXMuQWRkVG9DYXJ0ID0gZnVuY3Rpb24gKCBwcm9kdWN0LCBjYWxsYmFjaywgcXVhbnRpdHkgKSB7XG4gICAgdmFyIHBvc3Q7XG4gICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xuXG4gICAgaWYgKCB0eXBlb2YgcXVhbnRpdHkgPT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICBxdWFudGl0eSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCBwcm9kdWN0Lmhhc093blByb3BlcnR5KCBcInZhcmlhbnRfaWRcIiApICYmIHByb2R1Y3QuaGFzT3duUHJvcGVydHkoIFwidmFyaWFudF9vcHRpb25faWRcIiApICkge1xuICAgICAgdmFyIHZhcmlhbnQgPSB7fTtcbiAgICAgIHZhcmlhbnRbIHByb2R1Y3QudmFyaWFudF9pZCBdID0gcHJvZHVjdC52YXJpYW50X29wdGlvbl9pZDtcbiAgICAgIHBvc3QgPSB7XG4gICAgICAgIGlkOiBwcm9kdWN0LnByb2R1Y3RfaWQsXG4gICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsXG4gICAgICAgIHF1YW50aXR5OiBxdWFudGl0eVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zdCA9IHtcbiAgICAgICAgaWQ6IHByb2R1Y3QucHJvZHVjdF9pZCxcbiAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5XG4gICAgICB9XG4gICAgfVxuXG4gICAgJCggJyNidG4tY2hlY2tvdXQgLmZhLXNob3BwaW5nLWNhcnQnICkucmVtb3ZlQ2xhc3MoICdmYS1zaG9wcGluZy1jYXJ0JyApLmFkZENsYXNzKCAnZmEtY2hlY2snICk7XG5cbiAgICAvLyBPcGVuIGNhcnQgZm9yIGFsbCBidXQgZ2lmdCBjYXJkXG4gICAgaWYgKCBwcm9kdWN0LnByb2R1Y3RfaWQgIT09IFwicHJvZF83WkFNbzFFTXhvTko0eFwiICYmIHByb2R1Y3QucHJvZHVjdF9pZCAhPT0gXCJwcm9kX0RXeTRvR3h4SzU2SngyXCIgKSB7XG4gICAgICAkKCAnI3Nob3BwaW5nLWNhcnQgLmVtcHR5JyApLmh0bWwoICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtc3BpblwiPjwvaT4gTG9hZGluZyBjYXJ0Li4uJyApO1xuICAgICAgY2FydFNob3coKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQ29tbWVyY2Vqc1NwYWNlLkNhcnQuYWRkKCBwb3N0LCBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICBpZiAoIHR5cGVvZiBtaXhwYW5lbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgbWl4cGFuZWwudHJhY2soIFwiUEYgLSBBZGQgVG8gQ2FydCBCdG4gQ2xpY2tlZFwiICk7XG4gICAgICB9XG4gICAgICBpZiAoIHR5cGVvZiBnYSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgZ2EoICdlYzphZGRQcm9kdWN0Jywge1xuICAgICAgICAgICdpZCc6IGRhdGEucHJvZHVjdF9pZCxcbiAgICAgICAgICAnbmFtZSc6IGRhdGEucHJvZHVjdF9uYW1lLFxuICAgICAgICAgICdjYXRlZ29yeSc6IFwiUGxhbnRcIixcbiAgICAgICAgICAnYnJhbmQnOiBcIkwmR1wiLFxuICAgICAgICAgIC8vICd2YXJpYW50JzogY3VycmVudFByb2R1Y3QudmFyaWFudCxcbiAgICAgICAgICAncHJpY2UnOiBkYXRhLmxpbmVfdG90YWwucmF3LFxuICAgICAgICAgICdxdWFudGl0eSc6IGRhdGEucXVhbnRpdHlcbiAgICAgICAgfSApO1xuICAgICAgICBnYSggJ2VjOnNldEFjdGlvbicsICdhZGQnICk7XG4gICAgICAgIGdhKCAnc2VuZCcsICdldmVudCcsICdVWCcsICdjbGljaycsICdhZGQgdG8gY2FydCcgKTsgLy8gU2VuZCBkYXRhIHVzaW5nIGFuIGV2ZW50LlxuXG4gICAgICAgIGRhdGFMYXllci5wdXNoKCB7XG4gICAgICAgICAgJ2V2ZW50JzogJ2FkZGVkVG9DYXJ0J1xuICAgICAgICB9ICk7XG4gICAgICB9XG4gICAgICBTcGFjZXMuY2FydFVwZGF0ZSggZGF0YSApO1xuICAgICAgY2FsbGJhY2soIHRydWUgKTtcbiAgICB9ICk7XG4gIH07XG5cbiAgU3BhY2VzLm9uZUNsaWNrUHVyY2hhc2UgPSBmdW5jdGlvbiAoIHByb2R1Y3RfaWQsIG9wdGlvbnMgKSB7XG4gICAgdmFyIHBvc3QgPSB7XG4gICAgICBpZDogcHJvZHVjdF9pZCxcbiAgICB9XG5cbiAgICByZXR1cm4gQ29tbWVyY2Vqc1NwYWNlLkNhcnQuYWRkKCBwb3N0LCBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICBpZiAoIG9wdGlvbnMuZGlyZWN0ID09PSB0cnVlICkge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3NhZmUtY2hlY2tvdXQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FydFNob3coKTtcbiAgICAgICAgU3BhY2VzLmNhcnRVcGRhdGUoIGRhdGEsIGZ1bmN0aW9uICggcmVzcCApIHtcblxuICAgICAgICB9ICk7XG5cbiAgICAgIH1cbiAgICB9ICk7XG4gIH1cblxuICBTcGFjZXMucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uICggaWQgKSB7XG4gICAgcmV0dXJuIENvbW1lcmNlanNTcGFjZS5DYXJ0LnJlbW92ZSggaWQsIGZ1bmN0aW9uICggZGF0YSApIHtcbiAgICAgIHJldHVybiBTcGFjZXMuY2FydFVwZGF0ZSggZGF0YSApO1xuICAgIH0gKTtcbiAgfTtcblxuICBTcGFjZXMucXVhbnRpdHkgPSBmdW5jdGlvbiAoIGlkLCBhbW91bnQgKSB7XG4gICAgdmFyIHBvc3Q7XG4gICAgcG9zdCA9IHtcbiAgICAgIHF1YW50aXR5OiBhbW91bnRcbiAgICB9O1xuICAgIHJldHVybiBDb21tZXJjZWpzU3BhY2UuQ2FydC51cGRhdGUoIGlkLCBwb3N0LCBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICByZXR1cm4gU3BhY2VzLmNhcnRVcGRhdGUoIGRhdGEgKTtcbiAgICB9ICk7XG4gIH07XG5cbiAgU3BhY2VzLmNhcnRVcGRhdGUgPSBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cbiAgICAkKCBcIiNzaG9wcGluZy1jYXJ0IC5lbXB0eVwiICkuaHRtbCggXCJDYXJ0IGlzIGVtcHR5IVwiICk7XG4gICAgJCggXCIjc2hvcHBpbmctY2FydCAuZW1wdHlcIiApLnJlbW92ZSgpO1xuICAgICQoICcucGxhbnQtcXVhbGl0eS13YXJuaW5nJyApLnNob3coKTtcbiAgICAkKCAnI2NhcnQtb3ZlcnZpZXcgdWwubGluZS1pdGVtcycgKS5odG1sKCAnJyApO1xuXG4gICAgdmFyIGNhcnQ7XG4gICAgaWYgKCB0eXBlb2YgZGF0YS5jYXJ0ID09PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgY2FydCA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcnQgPSBkYXRhLmNhcnQ7XG4gICAgfVxuXG4gICAgLy8gaWYgKCAoIGdldENvb2tpZSggXCJoYXNGcmVlUHJcIiApID09PSBcImZhbHNlXCIgfHwgZ2V0Q29va2llKCBcImhhc0ZyZWVQclwiICkgPT09IFwiXCIgKSAmJiBjYXJ0LnRvdGFsX2l0ZW1zID4gMSAmJiBtYXJrZXQudG9Mb3dlckNhc2UoKSAhPT0gXCJmci1wYXJpc1wiICkge1xuICAgIC8vICAgU3BhY2VzLkFkZFRvQ2FydCgge1xuICAgIC8vICAgICBwcm9kdWN0X2lkOiBcInByb2RfOFhPM3dwejdFNVlBelFcIlxuICAgIC8vICAgfSApO1xuICAgIC8vICAgc2V0Q29va2llKCBcImhhc0ZyZWVQclwiLCBcInRydWVcIiApO1xuICAgIC8vICAgU3BhY2VzLmhhc0ZyZWVQciA9IFNwYWNlcy5oYXNGcmVlUHI7XG4gICAgLy8gfSBlbHNlIGlmICggY2FydC50b3RhbF9pdGVtcyA8IDMgJiYgZ2V0Q29va2llKCBcImhhc0ZyZWVQclwiICkgPT09IFwidHJ1ZVwiICkge1xuICAgIC8vICAgc2V0Q29va2llKCBcImhhc0ZyZWVQclwiLCBcImZhbHNlXCIgKTtcblxuICAgIC8vICAgZm9yICggdmFyIGkgPSAwOyBpIDwgY2FydC5saW5lX2l0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgIC8vICAgICBpZiAoIGNhcnQubGluZV9pdGVtc1sgaSBdLnByb2R1Y3RfaWQgPT09IFwicHJvZF84WE8zd3B6N0U1WUF6UVwiICkge1xuICAgIC8vICAgICAgIFNwYWNlcy5yZW1vdmVJdGVtKCBjYXJ0LmxpbmVfaXRlbXNbIGkgXS5pZCApO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgaWYgKCAhJC5pc0VtcHR5T2JqZWN0KCBjYXJ0LmxpbmVfaXRlbXMgKSApIHtcbiAgICAgICQoICcuY2xvc2luZyAuYnRuJyApLnJlbW92ZUNsYXNzKCAnZGlzYWJsZWQnICk7XG4gICAgICAkKCAnI2NhcnQtb3ZlcnZpZXcgdWwubGluZS1pdGVtcycgKS5odG1sKCAnJyApO1xuICAgICAgJC5lYWNoKCBjYXJ0LmxpbmVfaXRlbXMsIGZ1bmN0aW9uICggaywgaXRlbSApIHtcblxuICAgICAgICB2YXIgbGluZV9pdGVtX2h0bWw7XG4gICAgICAgIHZhciBvcHRpb25fbmFtZSA9IFwiXCI7XG4gICAgICAgIGlmICggKCB0eXBlb2YgaXRlbS52YXJpYW50cyAhPT0gXCJ1bmRlZmluZWRcIiApICYmICggaXRlbS52YXJpYW50cy5sZW5ndGggPiAwICkgKSB7XG4gICAgICAgICAgb3B0aW9uX25hbWUgPSBpdGVtLnZhcmlhbnRzWyAwIF0ub3B0aW9uX25hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHF0ZUNoXG4gICAgICAgIGlmICggaXRlbS5wcm9kdWN0X2lkID09PSBcInByb2RfeXBicm9Faks2NThuNGVcIiApIHtcbiAgICAgICAgICBxdGVDaCA9IFwiZGlzYWJsZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIGl0ZW0ucHJvZHVjdF9pZCA9PT0gXCJwcm9kXzhYTzN3cHo3RTVZQXpRXCIgKSB7XG4gICAgICAgICAgbGluZV9pdGVtX2h0bWwgPSBcIjxsaT48c3BhbiBjbGFzcz1cXFwibGluZS1pdGVtLW5hbWVcXFwiPjxpbWcgc3JjPScvaW1hZ2VzL2FkZG9ucy9mcmVlLW1pZmxvcmEuanBnJyBzdHlsZT0nYm9yZGVyOiAxcHggc29saWQgI2NjYzsgbWFyZ2luLXJpZ2h0OiAxMHB4Oycgd2lkdGg9JzUwcHgnPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL2Jsb2cubGVvbmFuZGdlb3JnZS5jb20vcG9zdHMvMjAxOC80LzcvdGhlLW1pZmxvcmEtcGxhbnQtc2Vuc29yJz5cIiArIGl0ZW0ubmFtZSArIFwiPC9hPjxici8+PHNtYWxsPlwiICsgb3B0aW9uX25hbWUgK1xuICAgICAgICAgICAgXCI8L3NtYWxsPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcImxpbmUtaXRlbS1xdWFudGl0eS1hbHRcXFwiPjxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBcIiArIHF0ZUNoICsgXCIgZGlzYWJsZWQgdmFsdWU9XFxcIlwiICsgaXRlbS5xdWFudGl0eSArIFwiXFxcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJsaW5lLWl0ZW0tcHJpY2VcXFwiPlwiICtcbiAgICAgICAgICAgIGl0ZW0ubGluZV90b3RhbC5mb3JtYXR0ZWRfd2l0aF9zeW1ib2wgKyBcIjwvc3Bhbj4gPHNwYW4gb25jbGljaz1cXFwiU3BhY2VzLnJlbW92ZUl0ZW0oJ1wiICtcbiAgICAgICAgICAgIGl0ZW0uaWQgKyBcIicpOyAgJCh0aGlzKS5hdHRyKCdvbmNsaWNrJywgJycpXFxcIiBjbGFzcz1cXFwibGluZS1pdGVtLXJlbW92ZVxcXCIgdGl0bGU9XFxcIlJlbW92ZSBmcm9tIGNhcnRcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS10cmFzaFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT48L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJsaW5lLWl0ZW0tdmFyaWFudHNcXFwiPjwvc3Bhbj4gPC9saT5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lX2l0ZW1faHRtbCA9IFwiPGxpPjxzcGFuIGNsYXNzPVxcXCJsaW5lLWl0ZW0tbmFtZVxcXCI+XCIgKyBpdGVtLm5hbWUgKyBcIjxici8+PHNtYWxsPlwiICsgb3B0aW9uX25hbWUgK1xuICAgICAgICAgICAgXCI8L3NtYWxsPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcImxpbmUtaXRlbS1xdWFudGl0eS1hbHRcXFwiPjxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBcIiArIHF0ZUNoICsgXCIgb25jaGFuZ2U9XFxcIlNwYWNlcy5xdWFudGl0eSgnXCIgK1xuICAgICAgICAgICAgaXRlbS5pZCArIFwiJywgJCh0aGlzKS52YWwoKSlcXFwiIHZhbHVlPVxcXCJcIiArIGl0ZW0ucXVhbnRpdHkgKyBcIlxcXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibGluZS1pdGVtLXByaWNlXFxcIj5cIiArXG4gICAgICAgICAgICBpdGVtLmxpbmVfdG90YWwuZm9ybWF0dGVkX3dpdGhfc3ltYm9sICsgXCI8L3NwYW4+IDxzcGFuIG9uY2xpY2s9XFxcIlNwYWNlcy5yZW1vdmVJdGVtKCdcIiArXG4gICAgICAgICAgICBpdGVtLmlkICsgXCInKTsgICQodGhpcykuYXR0cignb25jbGljaycsICcnKVxcXCIgY2xhc3M9XFxcImxpbmUtaXRlbS1yZW1vdmVcXFwiIHRpdGxlPVxcXCJSZW1vdmUgZnJvbSBjYXJ0XFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtdHJhc2hcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibGluZS1pdGVtLXZhcmlhbnRzXFxcIj48L3NwYW4+IDwvbGk+XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQoICcjY2FydC1vdmVydmlldyB1bC5saW5lLWl0ZW1zJyApLmFwcGVuZCggbGluZV9pdGVtX2h0bWwgKTtcbiAgICAgIH0gKTtcblxuICAgICAgJCggXCIjZ29Ub0NoZWNrb3V0XCIgKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0ZXh0RW1wdHkgPSAoIGdlbmVyYWxNYXJrZXQudG9Mb3dlckNhc2UoKSA9PT0gXCJmclwiICkgPyBcIkxlIHBhbmllciBlc3QgdmlkZSFcIiA6IFwiQ2FydCBpcyBlbXB0eSFcIjtcbiAgICAgICQoICcjY2FydC1vdmVydmlldyB1bC5saW5lLWl0ZW1zJyApLmh0bWwoICc8bGkgY2xhc3M9XCJlbXB0eVwiPicgKyB0ZXh0RW1wdHkgKyAnPC9saT4nICk7XG4gICAgICAkKCAnLnBsYW50LXF1YWxpdHktd2FybmluZycgKS5oaWRlKCk7XG4gICAgICAkKCBcIiNnb1RvQ2hlY2tvdXRcIiApLmhpZGUoKTtcbiAgICAgICQoICcuY2xvc2luZyAuYnRuJyApLmFkZENsYXNzKCAnZGlzYWJsZWQnICk7XG4gICAgfVxuICAgICQoICcjY2FydC1vdmVydmlldyAuc3VidG90YWwgc3BhbicgKS5odG1sKCBjYXJ0LnN1YnRvdGFsLmZvcm1hdHRlZF93aXRoX3N5bWJvbCArIFwiIDxpPlwiICsgY2FydC5jdXJyZW5jeS5jb2RlICsgXCI8L2k+XCIgKTtcbiAgICB1cGRhdGVDb3VudCggY2FydCApO1xuICAgIHJldHVybiAkKCAnI2NoZWMtYmFza2V0IHNwYW5bZGF0YS1jaGVjPVwiY2FydC1zdWJ0b3RhbFwiXScgKS5odG1sKCBcIlwiICsgY2FydC5zdWJ0b3RhbC5mb3JtYXR0ZWRfd2l0aF9zeW1ib2wgKTtcbiAgfTtcblxuICBTcGFjZXMuZ29Ub0NoZWNrb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICggdHlwZW9mIG1peHBhbmVsICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgbWl4cGFuZWwudHJhY2soIFwiUEYgLSBDaGVja291dCBCdG4gQ2xpY2tlZFwiICk7XG4gICAgfVxuICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJnb1RvQ2hlY2tvdXRcIiApO1xuICAgICQoIGJ1dHRvbiApLmJ1dHRvbiggJ2xvYWRpbmcnICk7XG4gICAgcmV0dXJuIENvbW1lcmNlanNTcGFjZS5DYXJ0LnJldHJpZXZlKCBmdW5jdGlvbiAoIHJlc3AgKSB7XG4gICAgICBpZiAoIHJlc3AudG90YWxfaXRlbXMgPiAwICkge1xuICAgICAgICB2YXIgdXNlck1hcmtldCA9IFwiXCI7XG4gICAgICAgIGlmICggZ2V0Q29va2llKCBcInVzZXJNYXJrZXRcIiApICE9PSBcIlwiICkge1xuICAgICAgICAgIHVzZXJNYXJrZXQgPSBnZXRDb29raWUoIFwidXNlck1hcmtldFwiICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc2FmZS1jaGVja291dC9cIiArIHJlc3AuaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCBidXR0b24gKS5idXR0b24oICdyZXNldCcgKTtcbiAgICAgIH1cblxuICAgIH0gKTtcblxuICB9O1xuXG59ICkuY2FsbCggdGhpcyApO1xuXG4kKCAnLmhvdmVyLW92ZXJsYXknICkub24oIFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoIGUgKSB7XG4gIFwidXNlIHN0cmljdFwiOyAvL3NhdGlzZnkgdGhlIGNvZGUgaW5zcGVjdG9yc1xuICB2YXIgbGluayA9ICQoIHRoaXMgKTsgLy9wcmVzZWxlY3QgdGhlIGxpbmtcbiAgaWYgKCBsaW5rLmhhc0NsYXNzKCAnaG92ZXInICkgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgbGluay5hZGRDbGFzcyggXCJob3ZlclwiICk7XG4gICAgJCggJy5ob3Zlci1vdmVybGF5JyApLm5vdCggdGhpcyApLnJlbW92ZUNsYXNzKCBcImhvdmVyXCIgKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlOyAvL2V4dHJhLCBhbmQgdG8gbWFrZSBzdXJlIHRoZSBmdW5jdGlvbiBoYXMgY29uc2lzdGVudCByZXR1cm4gcG9pbnRzXG4gIH1cbn0gKTtcblxuZnVuY3Rpb24gY2FydFNob3coKSB7XG4gIGlmICggdHlwZW9mIG1peHBhbmVsICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgIG1peHBhbmVsLnRyYWNrKCBcIlBGIC0gQ2FydCBQYW5lbCBPcGVuZWRcIiApO1xuICB9XG4gICQoIFwiI3Nob3BwaW5nLWNhcnRcIiApLnJlbW92ZUNsYXNzKCBcImhpZGRlblwiICk7XG4gICQoICcjc2hvcHBpbmctY2FydCAjY2FydC1hY3RpdmUtb3ZlcmxheSAnICkuc2hvdygpO1xuICAkKCAnI3Nob3BwaW5nLWNhcnQgI2NhcnQtb3ZlcnZpZXcnICkucmVtb3ZlQ2xhc3MoICdpbmFjdGl2ZScgKTtcbiAgJCggJ2JvZHknICkuYWRkQ2xhc3MoICdtb2RhbC1vcGVuIHByZXZlbnQtYmFja2dyb3VuZC1zY3JvbGwnICk7XG4gICQoICdodG1sJyApLmFkZENsYXNzKCAncHJldmVudC1iYWNrZ3JvdW5kLXNjcm9sbCcgKTtcbn1cblxuZnVuY3Rpb24gY2FydEhpZGUoKSB7XG5cbiAgJCggJyNzaG9wcGluZy1jYXJ0ICNjYXJ0LW92ZXJ2aWV3JyApLmFkZENsYXNzKCAnaW5hY3RpdmUnICk7XG4gICQoICcjc2hvcHBpbmctY2FydCAjY2FydC1hY3RpdmUtb3ZlcmxheSAnICkuaGlkZSgpO1xuICAkKCAnYm9keScgKS5yZW1vdmVDbGFzcyggJ21vZGFsLW9wZW4gcHJldmVudC1iYWNrZ3JvdW5kLXNjcm9sbCcgKTtcbiAgJCggJ2h0bWwnICkucmVtb3ZlQ2xhc3MoICdwcmV2ZW50LWJhY2tncm91bmQtc2Nyb2xsJyApO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDb3VudCggZGF0YSApIHtcbiAgaWYgKCBwYXJzZUludCggZGF0YS50b3RhbF9pdGVtcyApID4gMCApIHtcbiAgICAkKCBcIi5jaGVjLWl0ZW1zLWNvdW50XCIgKS5odG1sKCBcIihcIiArIGRhdGEudG90YWxfaXRlbXMgKyBcIilcIiApO1xuICAgICQoIFwiLmNoZWMtaXRlbXMtY291bnQubGFiZWxcIiApLmh0bWwoIGRhdGEudG90YWxfaXRlbXMgKTtcbiAgfSBlbHNlIHtcbiAgICAkKCBcIi5jaGVjLWl0ZW1zLWNvdW50XCIgKS5odG1sKCBcIlwiICk7XG4gIH1cbn1cblxuaWYgKCAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zZWFyY2goIFwiL3RoYW5rc1wiICkgPT09IC0xICkgJiYgKCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc2VhcmNoKCBcIi9zYWZlLWNoZWNrb3V0XCIgKSA9PT0gLTEgKSApIHtcbiAgaWYgKCBnZXRDb29raWUoIFwiY29tbWVyY2Vqc19jYXJ0X2lkXCIgKSAhPT0gXCJcIiApIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJDb21tZXJjZWpzLkNhcnQuUmVhZHlcIiwgZnVuY3Rpb24gKCBlICkge1xuICAgICAgQ29tbWVyY2Vqc1NwYWNlLkNhcnQucmV0cmlldmUoIGZ1bmN0aW9uICggZGF0YSApIHtcbiAgICAgICAgU3BhY2VzLmNhcnRVcGRhdGUoIGRhdGEgKTtcbiAgICAgIH0gKTtcblxuICAgIH0sIGZhbHNlICk7XG4gIH1cbn1cbiJdfQ==

window.Delivery={},Delivery.getHubByCity=function(e){return new Promise(function(t,n){$.get("/hub/city/"+e.userCountry+"/"+e.userLocation,function(e){0===Object.keys(e).length&&e.constructor===Object?callback(404):(Delivery.geoData=e,t(Delivery.geoData))})})},Delivery.getHubByZip=function(e,t){return new Promise(function(n,r){$.get("/hub/zip/"+t+"/"+e,function(e){0===Object.keys(e).length&&e.constructor===Object?callback(404):(Delivery.geoData=e,n(Delivery.geoData))})})},Delivery.getByProductsAndCity=function(e,t,n){return new Promise(function(r,i){var o={products:n};$.ajax({url:"/delivery/city/"+t+"/ "+e,data:o,method:"POST"}).then(function(e){Delivery.geoData=e,r(Delivery.geoData)})})},Delivery.getByProductsAndZip=function(e,t,n){return new Promise(function(r,i){var o={products:n};$.ajax({url:"/delivery/zip/"+t+"/ "+e,data:o,method:"POST"}).then(function(e){Delivery.geoData=e,r(Delivery.geoData)})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGl2ZXJ5LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkRlbGl2ZXJ5IiwiZ2V0SHViQnlDaXR5IiwiZGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiJCIsImdldCIsInVzZXJDb3VudHJ5IiwidXNlckxvY2F0aW9uIiwicmVzcCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjb25zdHJ1Y3RvciIsImNhbGxiYWNrIiwiZ2VvRGF0YSIsImdldEh1YkJ5WmlwIiwiemlwY29kZSIsImNvdW50cnkiLCJnZXRCeVByb2R1Y3RzQW5kQ2l0eSIsImNpdHkiLCJwcm9kdWN0cyIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJ0aGVuIiwiZ2V0QnlQcm9kdWN0c0FuZFppcCJdLCJtYXBwaW5ncyI6IkFBQUVBLE9BQU9DLFNBQVcsR0FDbEJBLFNBQVNDLGFBQWUsU0FBV0MsR0FDakMsT0FBTyxJQUFJQyxRQUFTLFNBQVdDLEVBQVNDLEdBQ3RDQyxFQUFFQyxJQUFLLGFBQWVMLEVBQUtNLFlBQWMsSUFBTU4sRUFBS08sYUFBYyxTQUFXQyxHQUN2QyxJQUEvQkMsT0FBT0MsS0FBTUYsR0FBT0csUUFBZ0JILEVBQUtJLGNBQWdCSCxPQUM1REksU0FBVSxNQUVWZixTQUFTZ0IsUUFBVU4sRUFDbkJOLEVBQVNKLFNBQVNnQixlQU0xQmhCLFNBQVNpQixZQUFjLFNBQVdDLEVBQVNDLEdBQ3pDLE9BQU8sSUFBSWhCLFFBQVMsU0FBV0MsRUFBU0MsR0FDdENDLEVBQUVDLElBQUssWUFBY1ksRUFBVSxJQUFNRCxFQUFTLFNBQVdSLEdBQ25CLElBQS9CQyxPQUFPQyxLQUFNRixHQUFPRyxRQUFnQkgsRUFBS0ksY0FBZ0JILE9BQzVESSxTQUFVLE1BRVZmLFNBQVNnQixRQUFVTixFQUNuQk4sRUFBU0osU0FBU2dCLGVBTTFCaEIsU0FBU29CLHFCQUF1QixTQUFXQyxFQUFNRixFQUFTRyxHQUN4RCxPQUFPLElBQUluQixRQUFTLFNBQVdDLEVBQVNDLEdBQ3RDLElBQUlILEVBQU8sQ0FDVG9CLFNBQVVBLEdBRVpoQixFQUFFaUIsS0FBTSxDQUNOQyxJQUFLLGtCQUFvQkwsRUFBVSxLQUFPRSxFQUMxQ25CLEtBQU1BLEVBQ051QixPQUFRLFNBQ05DLEtBQU0sU0FBV1YsR0FDbkJoQixTQUFTZ0IsUUFBVUEsRUFDbkJaLEVBQVNKLFNBQVNnQixjQUt4QmhCLFNBQVMyQixvQkFBc0IsU0FBV1QsRUFBU0MsRUFBU0csR0FDMUQsT0FBTyxJQUFJbkIsUUFBUyxTQUFXQyxFQUFTQyxHQUN0QyxJQUFJSCxFQUFPLENBQ1RvQixTQUFVQSxHQUVaaEIsRUFBRWlCLEtBQU0sQ0FDTkMsSUFBSyxpQkFBbUJMLEVBQVUsS0FBT0QsRUFDekNoQixLQUFNQSxFQUNOdUIsT0FBUSxTQUNOQyxLQUFNLFNBQVdWLEdBQ25CaEIsU0FBU2dCLFFBQVVBLEVBQ25CWixFQUFTSixTQUFTZ0IiLCJmaWxlIjoiZGVsaXZlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIHdpbmRvdy5EZWxpdmVyeSA9IHt9O1xuICBEZWxpdmVyeS5nZXRIdWJCeUNpdHkgPSBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcbiAgICAgICQuZ2V0KCBcIi9odWIvY2l0eS9cIiArIGRhdGEudXNlckNvdW50cnkgKyBcIi9cIiArIGRhdGEudXNlckxvY2F0aW9uLCBmdW5jdGlvbiAoIHJlc3AgKSB7XG4gICAgICAgIGlmICggT2JqZWN0LmtleXMoIHJlc3AgKS5sZW5ndGggPT09IDAgJiYgcmVzcC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICkge1xuICAgICAgICAgIGNhbGxiYWNrKCA0MDQgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEZWxpdmVyeS5nZW9EYXRhID0gcmVzcDtcbiAgICAgICAgICByZXNvbHZlKCBEZWxpdmVyeS5nZW9EYXRhICk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcbiAgICB9ICk7XG4gIH1cblxuICBEZWxpdmVyeS5nZXRIdWJCeVppcCA9IGZ1bmN0aW9uICggemlwY29kZSwgY291bnRyeSApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgJC5nZXQoIFwiL2h1Yi96aXAvXCIgKyBjb3VudHJ5ICsgXCIvXCIgKyB6aXBjb2RlLCBmdW5jdGlvbiAoIHJlc3AgKSB7XG4gICAgICAgIGlmICggT2JqZWN0LmtleXMoIHJlc3AgKS5sZW5ndGggPT09IDAgJiYgcmVzcC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICkge1xuICAgICAgICAgIGNhbGxiYWNrKCA0MDQgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEZWxpdmVyeS5nZW9EYXRhID0gcmVzcDtcbiAgICAgICAgICByZXNvbHZlKCBEZWxpdmVyeS5nZW9EYXRhICk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcbiAgICB9ICk7XG4gIH1cblxuICBEZWxpdmVyeS5nZXRCeVByb2R1Y3RzQW5kQ2l0eSA9IGZ1bmN0aW9uICggY2l0eSwgY291bnRyeSwgcHJvZHVjdHMgKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHNcbiAgICAgIH07XG4gICAgICAkLmFqYXgoIHtcbiAgICAgICAgdXJsOiBcIi9kZWxpdmVyeS9jaXR5L1wiICsgY291bnRyeSArIFwiLyBcIiArIGNpdHksXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgfSApLnRoZW4oIGZ1bmN0aW9uICggZ2VvRGF0YSApIHtcbiAgICAgICAgRGVsaXZlcnkuZ2VvRGF0YSA9IGdlb0RhdGE7XG4gICAgICAgIHJlc29sdmUoIERlbGl2ZXJ5Lmdlb0RhdGEgKTtcbiAgICAgIH0pO1xuICAgIH0gKTtcbiAgfTtcblxuICBEZWxpdmVyeS5nZXRCeVByb2R1Y3RzQW5kWmlwID0gZnVuY3Rpb24gKCB6aXBjb2RlLCBjb3VudHJ5LCBwcm9kdWN0cyApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0c1xuICAgICAgfTtcbiAgICAgICQuYWpheCgge1xuICAgICAgICB1cmw6IFwiL2RlbGl2ZXJ5L3ppcC9cIiArIGNvdW50cnkgKyBcIi8gXCIgKyB6aXBjb2RlLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIH0gKS50aGVuKCBmdW5jdGlvbiAoIGdlb0RhdGEgKSB7XG4gICAgICAgIERlbGl2ZXJ5Lmdlb0RhdGEgPSBnZW9EYXRhO1xuICAgICAgICByZXNvbHZlKCBEZWxpdmVyeS5nZW9EYXRhICk7XG4gICAgICB9KTtcbiAgICB9ICk7XG4gIH1cbiJdfQ==

var key_chec,key_stripe,environment;if(window.commerce_settings={us:{chec_test:"pk_test_10892888ef237592836abfe83e332df76701385661e70",chec_live:"pk_10892b6253691fefbece9c375279e7e4d2ffb5b6be65b",stripe_test:"pk_test_lxxIF3xiyDUMF7HV7e1hFUoi",stripe_live:"pk_live_8LDqokGfehX2Ffk4DRXb3uml"},fr:{chec_test:"pk_test_1415822c9fe05566ac01854df8660a243f118c9f2a869",chec_live:"pk_141588a19784a86dd5e61d44240b5c7333402b9e7fd03",stripe_test:"pk_test_SUYdkYPwMSjjcpvlUJUkLiW4",stripe_live:"pk_live_zosWM5lpspz0SxhXCm6iAr0G"}},window.CommercejsSpace,"localhost"===location.hostname||"forestical-dev.herokuapp.com"===location.hostname||"forestical-staging.herokuapp.com"===location.hostname||"leonandgeorge-i18n.herokuapp.com"===location.hostname?(environment="development",console.log("%c ! Using Test Keys !","color: red; font-weight: bold; font-size: 14px;"),console.log("%c ! "+generalMarket,"color: red; font-weight: bold; font-size: 14px;"),key_chec=commerce_settings[generalMarket].chec_test,key_stripe=commerce_settings[generalMarket].stripe_test):(key_chec=commerce_settings[generalMarket].chec_live,key_stripe=commerce_settings[generalMarket].stripe_live),"/thanks"!==window.location.pathname)if("development"===environment)var CommercejsSpace=new Commerce(key_chec,!0);else CommercejsSpace=new Commerce(key_chec);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiXSwibmFtZXMiOlsia2V5X2NoZWMiLCJrZXlfc3RyaXBlIiwiZW52aXJvbm1lbnQiLCJ3aW5kb3ciLCJjb21tZXJjZV9zZXR0aW5ncyIsInVzIiwiY2hlY190ZXN0IiwiY2hlY19saXZlIiwic3RyaXBlX3Rlc3QiLCJzdHJpcGVfbGl2ZSIsImZyIiwiQ29tbWVyY2Vqc1NwYWNlIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImNvbnNvbGUiLCJsb2ciLCJnZW5lcmFsTWFya2V0IiwicGF0aG5hbWUiLCJDb21tZXJjZSJdLCJtYXBwaW5ncyI6IkFBZUEsSUFBSUEsU0FBVUMsV0FBWUMsWUFpQjFCLEdBaENBQyxPQUFPQyxrQkFBb0IsQ0FDekJDLEdBQUksQ0FDRkMsVUFBVyx3REFDWEMsVUFBVyxtREFDWEMsWUFBYSxtQ0FDYkMsWUFBYSxvQ0FFZkMsR0FBSSxDQUNGSixVQUFXLHdEQUNYQyxVQUFXLG1EQUNYQyxZQUFhLG1DQUNiQyxZQUFhLHFDQUdqQk4sT0FBT1EsZ0JBR2lCLGNBQXRCQyxTQUFTQyxVQUNhLGlDQUF0QkQsU0FBU0MsVUFDYSxxQ0FBdEJELFNBQVNDLFVBQ2EscUNBQXRCRCxTQUFTQyxVQUVUWCxZQUFjLGNBQ2RZLFFBQVFDLElBQUsseUJBQTBCLG1EQUN2Q0QsUUFBUUMsSUFBSyxRQUFVQyxjQUFlLG1EQUV0Q2hCLFNBQVdJLGtCQUFtQlksZUFBZ0JWLFVBQzlDTCxXQUFhRyxrQkFBbUJZLGVBQWdCUixjQUVoRFIsU0FBV0ksa0JBQW1CWSxlQUFnQlQsVUFDOUNOLFdBQWFHLGtCQUFtQlksZUFBZ0JQLGFBRWhCLFlBQTdCTixPQUFPUyxTQUFTSyxTQUNuQixHQUFxQixnQkFBaEJmLFlBQ0gsSUFBSVMsZ0JBQWtCLElBQUlPLFNBQVVsQixVQUFVLFFBRTFDVyxnQkFBa0IsSUFBSU8sU0FBVWxCIiwiZmlsZSI6ImluaXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuY29tbWVyY2Vfc2V0dGluZ3MgPSB7XG4gIHVzOiB7XG4gICAgY2hlY190ZXN0OiBcInBrX3Rlc3RfMTA4OTI4ODhlZjIzNzU5MjgzNmFiZmU4M2UzMzJkZjc2NzAxMzg1NjYxZTcwXCIsXG4gICAgY2hlY19saXZlOiBcInBrXzEwODkyYjYyNTM2OTFmZWZiZWNlOWMzNzUyNzllN2U0ZDJmZmI1YjZiZTY1YlwiLFxuICAgIHN0cmlwZV90ZXN0OiBcInBrX3Rlc3RfbHh4SUYzeGl5RFVNRjdIVjdlMWhGVW9pXCIsXG4gICAgc3RyaXBlX2xpdmU6IFwicGtfbGl2ZV84TERxb2tHZmVoWDJGZms0RFJYYjN1bWxcIlxuICB9LFxuICBmcjoge1xuICAgIGNoZWNfdGVzdDogXCJwa190ZXN0XzE0MTU4MjJjOWZlMDU1NjZhYzAxODU0ZGY4NjYwYTI0M2YxMThjOWYyYTg2OVwiLFxuICAgIGNoZWNfbGl2ZTogXCJwa18xNDE1ODhhMTk3ODRhODZkZDVlNjFkNDQyNDBiNWM3MzMzNDAyYjllN2ZkMDNcIixcbiAgICBzdHJpcGVfdGVzdDogXCJwa190ZXN0X1NVWWRrWVB3TVNqamNwdmxVSlVrTGlXNFwiLFxuICAgIHN0cmlwZV9saXZlOiBcInBrX2xpdmVfem9zV001bHBzcHowU3hoWENtNmlBcjBHXCJcbiAgfVxufVxud2luZG93LkNvbW1lcmNlanNTcGFjZTtcbnZhciBrZXlfY2hlYywga2V5X3N0cmlwZSwgZW52aXJvbm1lbnQ7XG5pZiAoXG4gIGxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiIHx8XG4gIGxvY2F0aW9uLmhvc3RuYW1lID09PSBcImZvcmVzdGljYWwtZGV2Lmhlcm9rdWFwcC5jb21cIiB8fFxuICBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJmb3Jlc3RpY2FsLXN0YWdpbmcuaGVyb2t1YXBwLmNvbVwiIHx8XG4gIGxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxlb25hbmRnZW9yZ2UtaTE4bi5oZXJva3VhcHAuY29tXCJcbikge1xuICBlbnZpcm9ubWVudCA9ICdkZXZlbG9wbWVudCdcbiAgY29uc29sZS5sb2coICclYyAhIFVzaW5nIFRlc3QgS2V5cyAhJywgJ2NvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE0cHg7JyApO1xuICBjb25zb2xlLmxvZyggJyVjICEgJyArIGdlbmVyYWxNYXJrZXQsICdjb2xvcjogcmVkOyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zaXplOiAxNHB4OycgKTtcblxuICBrZXlfY2hlYyA9IGNvbW1lcmNlX3NldHRpbmdzWyBnZW5lcmFsTWFya2V0IF0uY2hlY190ZXN0O1xuICBrZXlfc3RyaXBlID0gY29tbWVyY2Vfc2V0dGluZ3NbIGdlbmVyYWxNYXJrZXQgXS5zdHJpcGVfdGVzdDtcbn0gZWxzZSB7XG4gIGtleV9jaGVjID0gY29tbWVyY2Vfc2V0dGluZ3NbIGdlbmVyYWxNYXJrZXQgXS5jaGVjX2xpdmU7XG4gIGtleV9zdHJpcGUgPSBjb21tZXJjZV9zZXR0aW5nc1sgZ2VuZXJhbE1hcmtldCBdLnN0cmlwZV9saXZlO1xufVxuaWYgKCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IFwiL3RoYW5rc1wiICkge1xuICBpZiAoIGVudmlyb25tZW50ID09PSBcImRldmVsb3BtZW50XCIgKSB7XG4gICAgdmFyIENvbW1lcmNlanNTcGFjZSA9IG5ldyBDb21tZXJjZSgga2V5X2NoZWMsIHRydWUgKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgQ29tbWVyY2Vqc1NwYWNlID0gbmV3IENvbW1lcmNlKCBrZXlfY2hlYyApO1xuICB9XG59Il19

function setCookie(e,t,o){var n=new Date;void 0===o&&(o=30),n.setTime(n.getTime()+24*o*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function arrayContainsArray(e,t){return 0!==t.length&&t.every(function(t){return e.indexOf(t)>=0})}function is_mobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}getQueryVariable("has_autodiscount")&&setCookie("has_autodiscount","true");for(var UTMs=["utm_source","utm_content","utm_medium","utm_campaign","utm_term","affiliate_id"],UTM_tracks=["utm_source_tr","utm_content_tr","utm_medium_tr","utm_campaign_tr","affiliate_id_tr"],i=0;i<UTMs.length;i++){var tmpUTM=getQueryVariable(UTMs[i]),tmpUTM_tr=tmpUTM;if(tmpUTM)if(setCookie(UTMs[i],tmpUTM),""!==getCookie(UTM_tracks[i])){var utm_track=getCookie(UTM_tracks[i])+","+tmpUTM_tr;setCookie(UTM_tracks[i],utm_track)}else setCookie(UTM_tracks[i],tmpUTM_tr)}function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==e)return n[1]}return!1}function addEvent(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)}function strip(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}if(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),n=o.length>>>0;if(0===n)return!1;var i,r,a=0|t,s=Math.max(a>=0?a:n-Math.abs(a),0);for(;s<n;){if((i=o[s])===(r=e)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;s++}return!1}}),-1===window.location.pathname.search("/thanks")&&-1===window.location.pathname.search("/safe-checkout")&&-1===window.location.pathname.search("/affordable-indoor-plants")){var timeoutID;addEvent(window,"load",function(e){addEvent(document,"mouseout",function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!=t.nodeName||slowAlert(!1)})});var timeoutValue=35e3;function slowAlert(e){""===getCookie("isModalDisplayed")&&($("#newsletterDiscountModal").modal("show"),setCookie("isModalDisplayed","true"),void 0!==e&&e&&window.clearTimeout(timeoutID),"undefined"!=typeof mixpanel&&mixpanel.track("Newsletter modal shown"))}"fr"===generalMarket&&(timeoutValue=7e3),timeoutID=window.setTimeout(slowAlert,timeoutValue)}else setCookie("isModalDisplayed","true");function activeTracking(){!function(e,t,o,n,i){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(o)[0],a=t.createElement(o);a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id=GTM-T9QNGWD",r.parentNode.insertBefore(a,r)}(window,document,"script","dataLayer")}function activateBootstrapTooltips(){$('[data-toggle="tooltip"]').tooltip({html:!0}),is_mobile()&&$("body").css({cursor:"pointer"})}function smoothScrollToElement(e){$("html, body").animate({scrollTop:$(e).offset().top},1250)}function confirmNewsletterSub(e){var t=e.serializeArray(),o={};return t.forEach(function(e){o[e.name]=e.value,$("#newsletterLegalAlertModal input[name='"+e.name+"']").val(e.value)}),$("#"+o.container_id+" .newsletter-response").html(""),$("#newsletterLegalAlertModal").modal("show"),!1}function subNewsletter(e){var t=e.serializeArray(),o={};t.forEach(function(e){o[e.name]=e.value}),$("#newsletterLegalAlertModal").modal("hide");var n=$("#"+o.container_id+" .newsletter-response"),i="Loading...";"fr"===generalMarket&&(i="Envoi en cours..."),n.html(i);var r={email:o.email_sub,list:o.newsletter_id,market:market,utm_source:getCookie("utm_source"),utm_medium:getCookie("utm_medium"),utm_campaign:getCookie("utm_campaign"),utm_term:getCookie("utm_term"),utm_content:getCookie("utm_content")};return $.ajax({type:"POST",url:"/subscribe",data:r,success:function(e){var t="You're in, thanks!";"fr"===generalMarket&&(t="Merci ! Votre inscription a bien été prise en compte."),n.html(t)}}),$("#"+o.container_id+" form input[name='email_sub']").val(""),!0===$("#"+o.container_id+" form").data("is-modal")&&(i="Continue shopping","fr"===generalMarket&&(i="Continuer le shopping"),$("#"+o.container_id+" .modal-footer a").html(i)),!1}function focusMarketPickerOnMobile(){$(".market-switcher-form--mobile").toggle(),$("#userLocationInputTopMobileNav").focus()}function focusMarketPickerNavForm(){is_mobile()||$(window).width()<767?focusMarketPickerOnMobile():$("#userLocationInputTopNav").focus()}-1===window.location.pathname.search("/privacy-and-security")&&""===getCookie("consentModal")?$(document).ready(function(){$("#consentModal").show(),$("#consent-button-ok").click(function(){setCookie("consentModal","1"),$("#consentModal").hide()}),$("#consent-button-no").click(function(){setCookie("consentModal","2"),$("#consentModal").hide()})}):$("#consentModal").hide(),$(document).ready(function(){activeTracking(),getCookie("consentModal")}),$(function(){activateBootstrapTooltips()}),$(".scroll-to-class").click(function(){return smoothScrollToElement("."+$(this).data("destination-class")),!1}),"fr"!==generalMarket&&$(function(){$(".newsletter-form").on("submit",function(e){e.preventDefault();var t=$(this).parent().find(".newsletter-response"),o="Loading...";"fr"===generalMarket&&(o="Envoi en cours..."),t.html(o);var n=$(this).find("input[name='email_sub']"),i=n.val(),r={email:i,list:paramsMailchimp.newsletterListId,market:market,utm_source:getCookie("utm_source"),utm_medium:getCookie("utm_medium"),utm_campaign:getCookie("utm_campaign"),utm_term:getCookie("utm_term"),utm_content:getCookie("utm_content")},a=$(this).data("is-modal");$.ajax({type:"POST",url:"/subscribe",data:r,success:function(e){var o="You're in, thanks!";"fr"===generalMarket&&(o="Merci ! Votre inscription a bien été prise en compte."),t.html(o),n.val(""),"undefined"!=typeof mixpanel&&"fr"!==generalMarket&&(mixpanel.alias(i),mixpanel.people.set({$email:i}),mixpanel.track("Newsletter email submitted",{"Is modal":a}))}}),!0===a&&$(this).closest(".modal-content").find(".modal-footer").find("a").html("Continue shopping")})}),$(document).on("shown.bs.tab",function(e){"undefined"!=typeof mixpanel&&mixpanel.track("Product tab switched",{"Switched to":e.target.innerHTML})}),$(document).ready(function(){if($(".disclosure-icon").length){function e(e){return e<1&&(e=0),e}$(window).scroll(function(){$("#carousel-hero .disclosure-icon, .about-section--hero + .disclosure-icon").css("opacity",e(Math.round(100*(1-$(window).scrollTop()/250)))/100)})}if($(".homepage-section--hero").length){function t(){var t,o=$(window).width(),n=$(window).height(),i=$(".homepage-section--hero").offset().top;if(n<=525)t=460;else if(o<=767){(t=n-i)>490&&(t=490);var r=e((t-$(".homepage-section--hero .carousel-inner").height()-$(".carousel-inner .item.active").find("div").height())/2-10);$('div[class^="homepage-section--hero__"], div[class*=" homepage-section--hero__"]').css({top:r+"px"})}else(t=o<n?600:n-i)>880&&(t=880),$('div[class^="homepage-section--hero__"], div[class*=" homepage-section--hero__"]').css({top:0}),$(".homepage-section--hero--middle").css({top:"50%"});$(".homepage-section--hero").css({"min-height":t+"px"})}t(),navigator.userAgent.match("CriOS")||$(window).resize(function(){t()})}$(window).resize(function(){$(window).width()>=768&&$(".market-switcher-form--mobile").hide()})}),$("#mobile-nav .dropdown").on("show.bs.dropdown",function(e){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(300)}),$("#mobile-nav .dropdown").on("hide.bs.dropdown",function(e){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(200)}),$(".offcanvas").on("show.bs.offcanvas",function(e){$("body").addClass("prevent-background-scroll"),$("html").addClass("prevent-background-scroll")}),$(".offcanvas").on("hide.bs.offcanvas",function(e){$("body").removeClass("prevent-background-scroll"),$("html").removeClass("prevent-background-scroll")}),$(".navbar-right .dropdown").on("shown.bs.dropdown",function(){var e=$(".navbar-right .dropdown-menu").outerHeight(),t=$(".navbar-right .dropdown-menu")[0].getBoundingClientRect();$("#dropdown-menu-full-width-mask").css({display:"block",height:e+"px",top:t.top+"px"})}),$(".navbar-right .dropdown").on("hidden.bs.dropdown",function(){$("#dropdown-menu-full-width-mask").css({display:"none"})}),$(".navbar-right .dropdown-toggle, .navbar-right .dropdown-menu, #dropdown-menu-full-width-mask").mouseover(function(){$(".navbar-right .dropdown-menu").not(":visible")&&$(".navbar-right .dropdown-toggle").click()}),$(".navbar-right .dropdown-toggle, .navbar-right .dropdown-menu, #dropdown-menu-full-width-mask").mouseout(function(){$(".navbar-right .dropdown-menu").is(":visible")&&$(".navbar-right .dropdown-toggle").click()}),$("#hear-about-us a").click(function(e){var t=$(this).data("order"),o={value:$(this).text()};return $.ajax({url:"/update_heard_from/"+t,method:"POST",data:o}).done(function(){"fr"===generalMarket?$("#hear-about-us").html("<p class='no-bottom-margin'><b>Merci pour votre retour!</b></p>"):$("#hear-about-us").html("<p class='no-bottom-margin'><b>Thanks for the feedback!</b></p>")}).fail(function(){}),!1}),$(document).ready(function(){is_mobile()?$("body").on("touchstart",function(e){!$(e.target).closest(".navbar-toggle").length>0&&!$(e.target).closest(".market-switcher-form--mobile").length>0&&($("#userLocationInputTopMobileNav").trigger("blur"),$(".market-switcher-form--mobile").hide())}):"true"!==getCookie("has_seen_location_tooltip")&&($(".market-switcher-form--nav .fa-map-marker").tooltip("show",{html:!0}),setCookie("has_seen_location_tooltip","true"),setTimeout(function(){$(".market-switcher-form--nav .fa-map-marker").tooltip("hide")},5e3))}),$("#email-referral-form").submit(function(){var e=$("#email-referral-form input[name=name]").val();return $("#email-referral-form input[type=email]").each(function(){var t={email:this.value,referrerName:e,list:paramsMailchimp.newsletterListId,market:"us-us",utm_source:"referrer-form"};$.ajax({type:"POST",url:"/subscribe",data:t,success:function(e){$("#email-referral-form").html('<p><b>Thanks! Use promo code <span style="padding:1px 4px;border-radius:2px;background:#000;color:#fff;">20FORYOU</span> during checkout to get your $20 off</b></p>'),$("#email-referral-form input").val("")}})}),!1});var addToWaitingList=function(e){var t={email:$(e).parent().find("input[name='email_sub']").val(),product:$(e).parent().find("input[name='product']").val(),list:paramsMailchimp.waitingListId,market:market,utm_source:getCookie("utm_source"),utm_medium:getCookie("utm_medium"),utm_campaign:getCookie("utm_campaign"),utm_term:getCookie("utm_term"),utm_content:getCookie("utm_content")};$.ajax({type:"POST",url:"/subscribe",data:t,success:function(t){var o="Thank you! We'll let you know when this is available again";"fr"===generalMarket&&(o="Merci ! Nous vous ferons savoir quand il sera de nouveau disponible."),$(".waiting-list-response").html(o),$(e).parent().find("input[name='email_sub']").val("")}})};function initializeMarketSelection(){var e={types:["(cities)"],componentRestrictions:{country:["US","FR"]}},t={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"short_name",country:"long_name",postal_code:"short_name",neighborhood:"short_name",country:"short_name"},o=[];o.push(document.getElementById("userLocationInputTopNav")),o.push(document.getElementById("userLocationInputTopMobileNav")),"product"===currentPage&&o.push(document.getElementById("userLocationInputProduct"));for(var n=function(e,t){var o=t.locality+", "+t.administrative_area_level_1;"FR"===t.country&&void 0!==t.administrative_area_level_2&&t.administrative_area_level_2!==t.locality&&(o=t.locality+", "+t.administrative_area_level_2);var n={userCity:t.locality,userCountry:t.country,userLocation:o,hasLocation:!0};return void 0!==e&&(n.userMarket=e.toLowerCase()),n},i=function(o){o.addEventListener("focus",function(){"userLocationInputTopNav"===o.id?$(".market-switcher-form--nav").append($(".pac-container")):"userLocationInputTopMobileNav"===o.id?$(".market-switcher-form--mobile").append($(".pac-container")):$(".market-switcher-form--product").append($(".pac-container"))});var i=new google.maps.places.Autocomplete(o,e);$(".market-switcher-form").submit(function(e){return!1}),i.addListener("place_changed",function(){var e=i.getPlace();if(!e.hasOwnProperty("address_components"))return!1;$(".market-switcher-form .fa-spinner").show();for(var r={},a=0;a<e.address_components.length;a++){var s=e.address_components[a].types[0];if(t[s]){var c=e.address_components[a][t[s]];r[s]=c}}var u=n(void 0,r);"userLocationInputProduct"===o.id?($(".market-switcher-form--nav .fa-spin").hide(),Product.displayDeliveryCost(u,!0)):Delivery.getHubByCity(u).then(function(e){!function(e){var t=encodeURIComponent(e.locality+", "+e.administrative_area_level_1);"FR"===e.country&&void 0!==e.administrative_area_level_2&&e.administrative_area_level_2!==e.locality&&(t=encodeURIComponent(e.locality+", "+e.administrative_area_level_2)),setCookie("userLocation",t),setCookie("userCity",e.locality),setCookie("userCountry",e.country.toLowerCase())}(r);e=n(e.hubs.key,r);marketScope.setMarket(e).then(function(e){var t=window.location.pathname,o=new RegExp("/"+window.market+"$");o.test(t)&&(t=t.replace(o,"")),window.location.replace(t)})})})},r=0;r<o.length;r++)i(o[r])}"checkout"!==currentPage&&google.maps.event.addDomListener(window,"load",initializeMarketSelection),""!==getCookie("userLocation")&&null!==document.getElementById("userLocationInputTopNav")&&$(".market-switcher-form input").attr("value",decodeURIComponent(getCookie("userLocation"))),$(".market-switcher-form input").focus(function(){$(this).select()}),$("#userLocationInputProduct").focus(function(){$(window).width()<767&&is_mobile()&&$(".plant-details").css({"padding-bottom":"60px"})}),$("#userLocationInputProduct").blur(function(){$(window).width()<767&&is_mobile()&&$(".plant-details").css({"padding-bottom":"0"})}),window.marketScope={},marketScope.setMarket=function(e){return new Promise(function(t,o){var n="/market/";switch(market){case"fr-paris":case"fr-fr":n+="?lang=fr";break;default:n+="?lang=en"}var i={userCity:e.userCity,userCountry:e.userCountry,userLocation:e.userLocation,hasLocation:e.hasLocation,userMarket:e.userMarket};$.post(n,i,function(e){"undefined"!=typeof mixpanel&&mixpanel.track("Switched market",{"Switched to":e.market}),setCookie("userMarket",e.market.toLowerCase()),setCookie("hasLocation",!0),t(e.market)})})},marketScope.getMarket=function(){return new Promise(function(e,t){$.get("/market/",function(t){e(t)}).fail(function(){t("can't find market")})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2V0Q29va2llIiwiY25hbWUiLCJjdmFsdWUiLCJleGRheXMiLCJkIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiZXhwaXJlcyIsInRvVVRDU3RyaW5nIiwiZG9jdW1lbnQiLCJjb29raWUiLCJnZXRDb29raWUiLCJuYW1lIiwiY2EiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJjIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImFycmF5Q29udGFpbnNBcnJheSIsInN1cGVyc2V0Iiwic3Vic2V0IiwiZXZlcnkiLCJ2YWx1ZSIsImlzX21vYmlsZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJnZXRRdWVyeVZhcmlhYmxlIiwiVVRNcyIsIlVUTV90cmFja3MiLCJ0bXBVVE0iLCJ0bXBVVE1fdHIiLCJ1dG1fdHJhY2siLCJ2YXJpYWJsZSIsInZhcnMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInBhaXIiLCJhZGRFdmVudCIsIm9iaiIsImV2dCIsImZuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50Iiwic3RyaXAiLCJodG1sIiwidG1wIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0IiwiU3RyaW5nIiwicHJvdG90eXBlIiwiY2FwaXRhbGl6ZSIsInRoaXMiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiaW5jbHVkZXMiLCJzdGFydCIsIkFycmF5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwiVHlwZUVycm9yIiwibyIsImxlbiIsIngiLCJ5IiwibiIsImsiLCJNYXRoIiwibWF4IiwiYWJzIiwiaXNOYU4iLCJwYXRobmFtZSIsInRpbWVvdXRJRCIsImUiLCJmcm9tIiwiZXZlbnQiLCJyZWxhdGVkVGFyZ2V0IiwidG9FbGVtZW50Iiwibm9kZU5hbWUiLCJzbG93QWxlcnQiLCJ0aW1lb3V0VmFsdWUiLCJzaG91bGRDbGVhckFsZXJ0IiwiJCIsIm1vZGFsIiwiY2xlYXJUaW1lb3V0IiwibWl4cGFuZWwiLCJ0cmFjayIsImdlbmVyYWxNYXJrZXQiLCJzZXRUaW1lb3V0IiwiYWN0aXZlVHJhY2tpbmciLCJ3IiwicyIsImwiLCJwdXNoIiwiZ3RtLnN0YXJ0IiwiZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaiIsImFzeW5jIiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImFjdGl2YXRlQm9vdHN0cmFwVG9vbHRpcHMiLCJ0b29sdGlwIiwiY3NzIiwiY3Vyc29yIiwic21vb3RoU2Nyb2xsVG9FbGVtZW50IiwiZWxlbWVudFNlbGVjdG9yIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImNvbmZpcm1OZXdzbGV0dGVyU3ViIiwiZm9ybUVsZW1lbnQiLCJkYXRhdCIsInNlcmlhbGl6ZUFycmF5IiwiZGF0YSIsImZvckVhY2giLCJlbCIsInZhbCIsImNvbnRhaW5lcl9pZCIsInN1Yk5ld3NsZXR0ZXIiLCJyZXNwb25zZUVsZW1lbnQiLCJ0eHQiLCJkYXRhRm9ybSIsImVtYWlsIiwiZW1haWxfc3ViIiwibGlzdCIsIm5ld3NsZXR0ZXJfaWQiLCJtYXJrZXQiLCJ1dG1fc291cmNlIiwidXRtX21lZGl1bSIsInV0bV9jYW1wYWlnbiIsInV0bV90ZXJtIiwidXRtX2NvbnRlbnQiLCJhamF4IiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImZvY3VzTWFya2V0UGlja2VyT25Nb2JpbGUiLCJ0b2dnbGUiLCJmb2N1cyIsImZvY3VzTWFya2V0UGlja2VyTmF2Rm9ybSIsIndpZHRoIiwicmVhZHkiLCJzaG93IiwiY2xpY2siLCJoaWRlIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsInBhcmVudCIsImZpbmQiLCJlbWFpbEVsZW1lbnQiLCJwYXJhbXNNYWlsY2hpbXAiLCJuZXdzbGV0dGVyTGlzdElkIiwiaXNNb2RhbCIsImFsaWFzIiwicGVvcGxlIiwic2V0IiwiJGVtYWlsIiwiSXMgbW9kYWwiLCJjbG9zZXN0IiwiU3dpdGNoZWQgdG8iLCJ0YXJnZXQiLCJtYWtlWmVyb0lmTmVnYXRpdmUiLCJzY3JvbGwiLCJyb3VuZCIsInNldEhlcm9IZWlnaHQiLCJoZWlnaHRUb1NldCIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsImhlaWdodCIsInRvcE9mSGVybyIsIm9mZnNldEZvckNvbnRlbnQiLCJtaW4taGVpZ2h0IiwibWF0Y2giLCJyZXNpemUiLCJmaXJzdCIsInN0b3AiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhlaWdodE9mTWVudSIsIm91dGVySGVpZ2h0Iiwib2Zmc2V0T2ZNZW51IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZGlzcGxheSIsIm1vdXNlb3ZlciIsIm5vdCIsIm1vdXNlb3V0IiwiaXMiLCJpbnZvaWNlSWQiLCJ1cGRhdGVkRGF0YSIsInRleHQiLCJtZXRob2QiLCJkb25lIiwiZmFpbCIsInRyaWdnZXIiLCJzdWJtaXQiLCJyZWZlcnJlck5hbWUiLCJlYWNoIiwiYWRkVG9XYWl0aW5nTGlzdCIsInRoYXQiLCJwcm9kdWN0Iiwid2FpdGluZ0xpc3RJZCIsImluaXRpYWxpemVNYXJrZXRTZWxlY3Rpb24iLCJvcHRpb25zIiwidHlwZXMiLCJjb21wb25lbnRSZXN0cmljdGlvbnMiLCJjb3VudHJ5IiwiY29tcG9uZW50Rm9ybSIsInN0cmVldF9udW1iZXIiLCJyb3V0ZSIsImxvY2FsaXR5IiwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xIiwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yIiwicG9zdGFsX2NvZGUiLCJuZWlnaGJvcmhvb2QiLCJpZEFycmF5IiwiZ2V0RWxlbWVudEJ5SWQiLCJjdXJyZW50UGFnZSIsImZvcm1hdFVzZXJMb2NhdGlvbkRhdGEiLCJmb3JtYXR0ZWRBZGRyIiwidXNlckxvY2F0aW9uIiwidW5kZWZpbmVkIiwidXNlckNpdHkiLCJ1c2VyQ291bnRyeSIsImhhc0xvY2F0aW9uIiwidXNlck1hcmtldCIsInRvTG93ZXJDYXNlIiwiaW5pdGlhbGl6ZUF1dG9jb21wbGV0ZSIsImlkX2F1dG8iLCJpZCIsImFwcGVuZCIsInVzZXJJbnB1dCIsImdvb2dsZSIsIm1hcHMiLCJwbGFjZXMiLCJBdXRvY29tcGxldGUiLCJhZGRMaXN0ZW5lciIsInBsYWNlIiwiZ2V0UGxhY2UiLCJoYXNPd25Qcm9wZXJ0eSIsImFkZHJlc3NfY29tcG9uZW50cyIsImFkZHJlc3NUeXBlIiwiUHJvZHVjdCIsImRpc3BsYXlEZWxpdmVyeUNvc3QiLCJEZWxpdmVyeSIsImdldEh1YkJ5Q2l0eSIsInRoZW4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXRVc2VyTG9jYXRpb25Db29raWVzIiwiaHVicyIsImtleSIsIm1hcmtldFNjb3BlIiwic2V0TWFya2V0IiwicmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwiYWRkRG9tTGlzdGVuZXIiLCJhdHRyIiwic2VsZWN0IiwicGFkZGluZy1ib3R0b20iLCJibHVyIiwiZGF0YUdlbyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicG9zdCIsImdldE1hcmtldCIsImdldCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsVUFBV0MsRUFBT0MsRUFBUUMsR0FDakMsSUFBSUMsRUFBSSxJQUFJQyxVQUNXLElBQVhGLElBQ1ZBLEVBQVMsSUFFWEMsRUFBRUUsUUFBU0YsRUFBRUcsVUFBdUIsR0FBVEosRUFBYyxHQUFLLEdBQUssS0FDbkQsSUFBSUssRUFBVSxXQUFhSixFQUFFSyxjQUM3QkMsU0FBU0MsT0FBU1YsRUFBUSxJQUFNQyxFQUFTLElBQU1NLEVBQVUsVUFHM0QsU0FBU0ksVUFBV1gsR0FJbEIsSUFIQSxJQUFJWSxFQUFPWixFQUFRLElBRWZhLEVBRGdCQyxtQkFBb0JMLFNBQVNDLFFBQzFCSyxNQUFPLEtBQ3BCQyxFQUFJLEVBQUdBLEVBQUlILEVBQUdJLE9BQVFELElBQU0sQ0FFcEMs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QU0vQzFPLE9BQU9rTyxZQUFjLEdBQ3JCQSxZQUFZQyxVQUFZLFNBQVdTLEdBQ2pDLE9BQU8sSUFBSUMsUUFBUyxTQUFXQyxFQUFTQyxHQUN0QyxJQUFJcEksRUFBTSxXQUNWLE9BQVNSLFFBQ1AsSUFBSyxXQUNMLElBQUssUUFDSFEsR0FBTyxXQUNQLE1BQ0YsUUFDRUEsR0FBTyxXQUdYLElBQUlyQixFQUFPLENBQ1QrRyxTQUFVdUMsRUFBUXZDLFNBQ2xCQyxZQUFhc0MsRUFBUXRDLFlBQ3JCSCxhQUFjeUMsRUFBUXpDLGFBQ3RCSSxZQUFhcUMsRUFBUXJDLFlBQ3JCQyxXQUFZb0MsRUFBUXBDLFlBR3RCcEosRUFBRTRMLEtBQU1ySSxFQUFLckIsRUFBTSxTQUFXQSxHQUNILG9CQUFiL0IsVUFDVkEsU0FBU0MsTUFBTyxrQkFBbUIsQ0FDakM2RSxjQUFlL0MsRUFBS2EsU0FHeEIzSSxVQUFXLGFBQWM4SCxFQUFLYSxPQUFPc0csZUFDckNqUCxVQUFXLGVBQWUsR0FDMUJzUixFQUFTeEosRUFBS2EsYUFJcEIrSCxZQUFZZSxVQUFZLFdBQ3RCLE9BQU8sSUFBSUosUUFBUyxTQUFXQyxFQUFTQyxHQUN0QzNMLEVBQUU4TCxJQUFLLFdBQVksU0FBVzVKLEdBQzVCd0osRUFBU3hKLEtBQ1BrRixLQUFNLFdBQ1J1RSxFQUFRIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzZXRDb29raWUoIGNuYW1lLCBjdmFsdWUsIGV4ZGF5cyApIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICBpZiAoIHR5cGVvZiBleGRheXMgPT09ICd1bmRlZmluZWQnICkge1xuICAgIGV4ZGF5cyA9IDMwO1xuICB9XG4gIGQuc2V0VGltZSggZC5nZXRUaW1lKCkgKyAoIGV4ZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDAgKSApO1xuICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcbiAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xufVxuXG5mdW5jdGlvbiBnZXRDb29raWUoIGNuYW1lICkge1xuICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XG4gIHZhciBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KCBkb2N1bWVudC5jb29raWUgKTtcbiAgdmFyIGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCggJzsnICk7XG4gIGZvciAoIHZhciBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBjID0gY2FbIGkgXTtcbiAgICB3aGlsZSAoIGMuY2hhckF0KCAwICkgPT0gJyAnICkge1xuICAgICAgYyA9IGMuc3Vic3RyaW5nKCAxICk7XG4gICAgfVxuICAgIGlmICggYy5pbmRleE9mKCBuYW1lICkgPT0gMCApIHtcbiAgICAgIHJldHVybiBjLnN1YnN0cmluZyggbmFtZS5sZW5ndGgsIGMubGVuZ3RoICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zQXJyYXkoIHN1cGVyc2V0LCBzdWJzZXQgKSB7XG4gIGlmICggMCA9PT0gc3Vic2V0Lmxlbmd0aCApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN1YnNldC5ldmVyeSggZnVuY3Rpb24gKCB2YWx1ZSApIHtcbiAgICByZXR1cm4gKCBzdXBlcnNldC5pbmRleE9mKCB2YWx1ZSApID49IDAgKTtcbiAgfSApO1xufVxuXG5mdW5jdGlvbiBpc19tb2JpbGUoKSB7XG4gIGlmICggL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICkgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmlmICggZ2V0UXVlcnlWYXJpYWJsZSggXCJoYXNfYXV0b2Rpc2NvdW50XCIgKSApIHtcbiAgc2V0Q29va2llKCBcImhhc19hdXRvZGlzY291bnRcIiwgXCJ0cnVlXCIgKTtcbn1cblxuLy8gTmVlZCB0byB3b3JrIG9uIHRoYXRcbi8vIGRvY3VtZW50LnJlZmVycmVyXG4vLyByZWZlcnJhbCB1dG1fbWVkaXVtXG4vLyBpZiBubyByZWZlcnJlciA+IGRpcmVjdFxuLy8gaWYgZ29vZ2xlLCB5YWhvbywgYmluZyA+IG9yZ2FuaWNcbi8vIHZhciByZWZlcnJlcjtcbi8vIGlmICggZG9jdW1lbnQucmVmZXJyZXIgPT09IFwiXCIgKSB7XG4vLyAgIHJlZmVycmVyID0gXCJEaXJlY3RcIjtcbi8vIH0gZWxzZSB7XG4vLyAgIHJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXI7XG4vLyB9XG4vLyBpZiAoIGdldENvb2tpZSggXCJyZWZlcnJlclwiICkgPT09IFwiXCIgKSB7XG4vLyAgIHNldENvb2tpZSggXCJyZWZlcnJlclwiLCByZWZlcnJlciApO1xuLy8gfVxuXG52YXIgVVRNcyA9IFsgXCJ1dG1fc291cmNlXCIsIFwidXRtX2NvbnRlbnRcIiwgXCJ1dG1fbWVkaXVtXCIsIFwidXRtX2NhbXBhaWduXCIsIFwidXRtX3Rlcm1cIiwgXCJhZmZpbGlhdGVfaWRcIiBdO1xudmFyIFVUTV90cmFja3MgPSBbIFwidXRtX3NvdXJjZV90clwiLCBcInV0bV9jb250ZW50X3RyXCIsIFwidXRtX21lZGl1bV90clwiLCBcInV0bV9jYW1wYWlnbl90clwiLCBcImFmZmlsaWF0ZV9pZF90clwiIF07XG5mb3IgKCB2YXIgaSA9IDA7IGkgPCBVVE1zLmxlbmd0aDsgaSsrICkge1xuICB2YXIgdG1wVVRNID0gZ2V0UXVlcnlWYXJpYWJsZSggVVRNc1sgaSBdICk7XG4gIHZhciB0bXBVVE1fdHIgPSB0bXBVVE07XG5cbiAgaWYgKCB0bXBVVE0gKSB7XG4gICAgc2V0Q29va2llKCBVVE1zWyBpIF0sIHRtcFVUTSApO1xuXG4gICAgaWYgKCBnZXRDb29raWUoIFVUTV90cmFja3NbIGkgXSApICE9PSBcIlwiICkge1xuICAgICAgLy8gSWYgdXRtIGFscmVhZHkgZXhpc3RpbmcsIGFkZGluZyBuZXcgb25lIGF0IHRoZSBlbmRcbiAgICAgIHZhciB1dG1fdHJhY2sgPSBnZXRDb29raWUoIFVUTV90cmFja3NbIGkgXSApICsgXCIsXCIgKyB0bXBVVE1fdHI7XG4gICAgICBzZXRDb29raWUoIFVUTV90cmFja3NbIGkgXSwgdXRtX3RyYWNrICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHV0bSBub3QgZXhpc3RpbmcsIG9ubHkgbmV3IG9uZVxuICAgICAgc2V0Q29va2llKCBVVE1fdHJhY2tzWyBpIF0sIHRtcFVUTV90ciApO1xuICAgIH1cbiAgfVxufVxuXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnNsaWNlKCAxICk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5VmFyaWFibGUoIHZhcmlhYmxlICkge1xuICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZyggMSApO1xuICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KCBcIiZcIiApO1xuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBwYWlyID0gdmFyc1sgaSBdLnNwbGl0KCBcIj1cIiApO1xuICAgIGlmICggcGFpclsgMCBdID09IHZhcmlhYmxlICkge1xuICAgICAgcmV0dXJuIHBhaXJbIDEgXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICggZmFsc2UgKTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnQoIG9iaiwgZXZ0LCBmbiApIHtcbiAgaWYgKCBvYmouYWRkRXZlbnRMaXN0ZW5lciApIHtcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lciggZXZ0LCBmbiwgZmFsc2UgKTtcbiAgfSBlbHNlIGlmICggb2JqLmF0dGFjaEV2ZW50ICkge1xuICAgIG9iai5hdHRhY2hFdmVudCggXCJvblwiICsgZXZ0LCBmbiApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmlwKCBodG1sICkge1xuICB2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJESVZcIiApO1xuICB0bXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHRtcC50ZXh0Q29udGVudCB8fCB0bXAuaW5uZXJUZXh0IHx8IFwiXCI7XG59XG5cblxuXG4vLyBQb2x5ZmlsbCBmb3IgSUUgKGluY2x1ZGVzIG1ldGhvZClcbmlmICggIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgKSB7XG4gIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiAoIHNlYXJjaCwgc3RhcnQgKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICggdHlwZW9mIHN0YXJ0ICE9PSAnbnVtYmVyJyApIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHRoaXMubGVuZ3RoICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKCBzZWFyY2gsIHN0YXJ0ICkgIT09IC0xO1xuICAgIH1cbiAgfTtcbn1cblxuXG5cbmlmICggIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcyApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KCBBcnJheS5wcm90b3R5cGUsICdpbmNsdWRlcycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXggKSB7XG5cbiAgICAgIC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG4gICAgICBpZiAoIHRoaXMgPT0gbnVsbCApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciggJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvID0gT2JqZWN0KCB0aGlzICk7XG5cbiAgICAgIC8vIDIuIExldCBsZW4gYmUgPyBUb0xlbmd0aCg/IEdldChPLCBcImxlbmd0aFwiKSkuXG4gICAgICB2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XG5cbiAgICAgIC8vIDMuIElmIGxlbiBpcyAwLCByZXR1cm4gZmFsc2UuXG4gICAgICBpZiAoIGxlbiA9PT0gMCApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBMZXQgbiBiZSA/IFRvSW50ZWdlcihmcm9tSW5kZXgpLlxuICAgICAgLy8gICAgKElmIGZyb21JbmRleCBpcyB1bmRlZmluZWQsIHRoaXMgc3RlcCBwcm9kdWNlcyB0aGUgdmFsdWUgMC4pXG4gICAgICB2YXIgbiA9IGZyb21JbmRleCB8IDA7XG5cbiAgICAgIC8vIDUuIElmIG4g4omlIDAsIHRoZW5cbiAgICAgIC8vICBhLiBMZXQgayBiZSBuLlxuICAgICAgLy8gNi4gRWxzZSBuIDwgMCxcbiAgICAgIC8vICBhLiBMZXQgayBiZSBsZW4gKyBuLlxuICAgICAgLy8gIGIuIElmIGsgPCAwLCBsZXQgayBiZSAwLlxuICAgICAgdmFyIGsgPSBNYXRoLm1heCggbiA+PSAwID8gbiA6IGxlbiAtIE1hdGguYWJzKCBuICksIDAgKTtcblxuICAgICAgZnVuY3Rpb24gc2FtZVZhbHVlWmVybyggeCwgeSApIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHkgfHwgKCB0eXBlb2YgeCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHkgPT09ICdudW1iZXInICYmIGlzTmFOKCB4ICkgJiYgaXNOYU4oIHkgKSApO1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cbiAgICAgIHdoaWxlICggayA8IGxlbiApIHtcbiAgICAgICAgLy8gYS4gTGV0IGVsZW1lbnRLIGJlIHRoZSByZXN1bHQgb2YgPyBHZXQoTywgISBUb1N0cmluZyhrKSkuXG4gICAgICAgIC8vIGIuIElmIFNhbWVWYWx1ZVplcm8oc2VhcmNoRWxlbWVudCwgZWxlbWVudEspIGlzIHRydWUsIHJldHVybiB0cnVlLlxuICAgICAgICAvLyBjLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgIGlmICggc2FtZVZhbHVlWmVybyggb1sgayBdLCBzZWFyY2hFbGVtZW50ICkgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaysrO1xuICAgICAgfVxuXG4gICAgICAvLyA4LiBSZXR1cm4gZmFsc2VcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gKTtcbn1cblxuXG5cbi8vIE1vdXNlIGV4aXRpbmcgd2luZG93IGRldGVjdGlvblxuaWYgKCAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zZWFyY2goIFwiL3RoYW5rc1wiICkgPT09IC0xICkgJiZcbiAgKCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc2VhcmNoKCBcIi9zYWZlLWNoZWNrb3V0XCIgKSA9PT0gLTEgKSAmJlxuICAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zZWFyY2goIFwiL2FmZm9yZGFibGUtaW5kb29yLXBsYW50c1wiICkgPT09IC0xIClcbikge1xuICBhZGRFdmVudCggd2luZG93LCBcImxvYWRcIiwgZnVuY3Rpb24gKCBlICkge1xuICAgIGFkZEV2ZW50KCBkb2N1bWVudCwgXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoIGUgKSB7XG4gICAgICBlID0gZSA/IGUgOiB3aW5kb3cuZXZlbnQ7XG4gICAgICB2YXIgZnJvbSA9IGUucmVsYXRlZFRhcmdldCB8fCBlLnRvRWxlbWVudDtcbiAgICAgIGlmICggIWZyb20gfHwgZnJvbS5ub2RlTmFtZSA9PSBcIkhUTUxcIiApIHtcbiAgICAgICAgc2xvd0FsZXJ0KCBmYWxzZSApO1xuICAgICAgfVxuICAgIH0gKTtcbiAgfSApO1xuXG4gIHZhciB0aW1lb3V0SUQ7XG4gIHZhciB0aW1lb3V0VmFsdWUgPSAzNTAwMDtcbiAgaWYgKCBnZW5lcmFsTWFya2V0ID09PSAnZnInICkge1xuICAgIHRpbWVvdXRWYWx1ZSA9IDcwMDA7XG4gIH1cbiAgdGltZW91dElEID0gd2luZG93LnNldFRpbWVvdXQoIHNsb3dBbGVydCwgdGltZW91dFZhbHVlICk7XG5cbiAgZnVuY3Rpb24gc2xvd0FsZXJ0KCBzaG91bGRDbGVhckFsZXJ0ICkge1xuICAgIGlmICggZ2V0Q29va2llKCBcImlzTW9kYWxEaXNwbGF5ZWRcIiApID09PSBcIlwiICkge1xuICAgICAgJCggXCIjbmV3c2xldHRlckRpc2NvdW50TW9kYWxcIiApLm1vZGFsKCAnc2hvdycgKTtcbiAgICAgIHNldENvb2tpZSggXCJpc01vZGFsRGlzcGxheWVkXCIsIFwidHJ1ZVwiICk7XG5cbiAgICAgIGlmICggdHlwZW9mIHNob3VsZENsZWFyQWxlcnQgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgIGlmICggc2hvdWxkQ2xlYXJBbGVydCApIHtcbiAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0SUQgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIHR5cGVvZiBtaXhwYW5lbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgbWl4cGFuZWwudHJhY2soIFwiTmV3c2xldHRlciBtb2RhbCBzaG93blwiICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IGVsc2Uge1xuICAvLyBEbyBub3QgZGlzcGxheSBtb2RhbCBpZiBjdXN0b21lciBhbHJlYWR5IHB1cmNoYXNlZCBvciBhdCBjaGVja291dCBwYWdlXG4gIHNldENvb2tpZSggXCJpc01vZGFsRGlzcGxheWVkXCIsIFwidHJ1ZVwiICk7XG59XG5cbi8vIFNUQVJUIENPTlNFTlRcbmZ1bmN0aW9uIGFjdGl2ZVRyYWNraW5nKCkge1xuICAvLyBHb29nbGUgVGFnIE1hbmFnZXJcbiAgKCBmdW5jdGlvbiAoIHcsIGQsIHMsIGwsIGkgKSB7XG4gICAgd1sgbCBdID0gd1sgbCBdIHx8IFtdO1xuICAgIHdbIGwgXS5wdXNoKCB7XG4gICAgICAnZ3RtLnN0YXJ0JzogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBldmVudDogJ2d0bS5qcydcbiAgICB9ICk7XG4gICAgdmFyIGYgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzIClbIDAgXSxcbiAgICAgIGogPSBkLmNyZWF0ZUVsZW1lbnQoIHMgKSxcbiAgICAgIGRsID0gbCAhPSAnZGF0YUxheWVyJyA/ICcmbD0nICsgbCA6ICcnO1xuICAgIGouYXN5bmMgPSB0cnVlO1xuICAgIGouc3JjID1cbiAgICAgICdodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndG0uanM/aWQ9JyArIGkgKyBkbDtcbiAgICBmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBqLCBmICk7XG4gIH0gKSggd2luZG93LCBkb2N1bWVudCwgJ3NjcmlwdCcsICdkYXRhTGF5ZXInLCAnR1RNLVQ5UU5HV0QnICk7XG59XG5cbi8vIENvbnNlbnQgTW9kYWwgZGlzcGxheWluZ1xuaWYgKCAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zZWFyY2goIFwiL3ByaXZhY3ktYW5kLXNlY3VyaXR5XCIgKSA9PT0gLTEgKSApIHtcbiAgaWYgKCBnZXRDb29raWUoIFwiY29uc2VudE1vZGFsXCIgKSA9PT0gXCJcIiApIHtcbiAgICAkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCBcIiNjb25zZW50TW9kYWxcIiApLnNob3coKTtcbiAgICAgICQoIFwiI2NvbnNlbnQtYnV0dG9uLW9rXCIgKS5jbGljayggZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRDb29raWUoIFwiY29uc2VudE1vZGFsXCIsIFwiMVwiICk7XG4gICAgICAgICQoIFwiI2NvbnNlbnRNb2RhbFwiICkuaGlkZSgpO1xuICAgICAgICAvL2FjdGl2ZVRyYWNraW5nKCk7XG4gICAgICB9ICk7XG4gICAgICAkKCBcIiNjb25zZW50LWJ1dHRvbi1ub1wiICkuY2xpY2soIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0Q29va2llKCBcImNvbnNlbnRNb2RhbFwiLCBcIjJcIiApO1xuICAgICAgICAkKCBcIiNjb25zZW50TW9kYWxcIiApLmhpZGUoKTtcbiAgICAgIH0gKTtcbiAgICB9ICk7XG4gIH0gZWxzZSB7XG4gICAgJCggXCIjY29uc2VudE1vZGFsXCIgKS5oaWRlKCk7XG4gIH1cbn0gZWxzZSB7XG4gICQoIFwiI2NvbnNlbnRNb2RhbFwiICkuaGlkZSgpO1xufVxuJCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24gKCkge1xuICBhY3RpdmVUcmFja2luZygpO1xuICBpZiAoIGdldENvb2tpZSggXCJjb25zZW50TW9kYWxcIiApID09IFwiMVwiICkge1xuICAgIC8vYWN0aXZlVHJhY2tpbmcoKTtcbiAgfVxufSApO1xuXG4vLyBFTkQgQ09OU0VOVFxuXG5cblxuLy8gQWN0aXZhdGUgQm9vdHN0cmFwIHRvb2x0aXBzXG5mdW5jdGlvbiBhY3RpdmF0ZUJvb3RzdHJhcFRvb2x0aXBzKCkge1xuICAkKCAnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScgKS50b29sdGlwKCB7XG4gICAgaHRtbDogdHJ1ZVxuICB9ICk7XG5cbiAgaWYgKCBpc19tb2JpbGUoKSApIHtcbiAgICAvLyBUbyBmaXggZGlzbWlzc2FiaWxpdHkgaXNzdWVcbiAgICAkKCAnYm9keScgKS5jc3MoIHtcbiAgICAgICdjdXJzb3InOiAncG9pbnRlcidcbiAgICB9ICk7XG4gIH1cbn1cblxuJCggZnVuY3Rpb24gKCkge1xuICBhY3RpdmF0ZUJvb3RzdHJhcFRvb2x0aXBzKCk7XG59ICk7XG5cblxuXG4vLyBTbW9vdGggc2Nyb2xsIHRvIGEgY2VydGFpbiBjbGFzc1xuZnVuY3Rpb24gc21vb3RoU2Nyb2xsVG9FbGVtZW50KGVsZW1lbnRTZWxlY3Rvcikge1xuICAkKCAnaHRtbCwgYm9keScgKS5hbmltYXRlKCB7XG4gICAgc2Nyb2xsVG9wOiAkKCBlbGVtZW50U2VsZWN0b3IgKS5vZmZzZXQoKS50b3BcbiAgfSwgMTI1MCApO1xufVxuXG4kKCAnLnNjcm9sbC10by1jbGFzcycgKS5jbGljayggZnVuY3Rpb24gKCkge1xuICB2YXIgZGVzdGluYXRpb25DbGFzcyA9ICQoIHRoaXMgKS5kYXRhKCBcImRlc3RpbmF0aW9uLWNsYXNzXCIgKTs7XG4gIHNtb290aFNjcm9sbFRvRWxlbWVudChcIi5cIiArIGRlc3RpbmF0aW9uQ2xhc3MpO1xuXG4gIHJldHVybiBmYWxzZTtcbn0gKTtcblxuLy8gRlIgRW1haWwgU3Vic2NyaWJlXG5mdW5jdGlvbiBjb25maXJtTmV3c2xldHRlclN1Yihmb3JtRWxlbWVudCkge1xuICB2YXIgZGF0YXQgPSBmb3JtRWxlbWVudC5zZXJpYWxpemVBcnJheSgpO1xuICB2YXIgZGF0YSA9IHt9O1xuICBkYXRhdC5mb3JFYWNoICggZnVuY3Rpb24oIGVsICkge1xuICAgIGRhdGFbZWwubmFtZV0gPSBlbC52YWx1ZTtcbiAgICAkKFwiI25ld3NsZXR0ZXJMZWdhbEFsZXJ0TW9kYWwgaW5wdXRbbmFtZT0nXCIrZWwubmFtZStcIiddXCIpLnZhbChlbC52YWx1ZSk7XG4gIH0pO1xuICAkKCAnIycrZGF0YS5jb250YWluZXJfaWQrJyAubmV3c2xldHRlci1yZXNwb25zZScgKS5odG1sKCcnKTtcbiAgJCggXCIjbmV3c2xldHRlckxlZ2FsQWxlcnRNb2RhbFwiICkubW9kYWwoICdzaG93JyApO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN1Yk5ld3NsZXR0ZXIoZm9ybUVsZW1lbnQpIHtcbiAgdmFyIGRhdGF0ID0gZm9ybUVsZW1lbnQuc2VyaWFsaXplQXJyYXkoKTtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgZGF0YXQuZm9yRWFjaCAoIGZ1bmN0aW9uKCBlbCApIHtcbiAgICBkYXRhW2VsLm5hbWVdID0gZWwudmFsdWU7XG4gIH0pO1xuXG4gICQoIFwiI25ld3NsZXR0ZXJMZWdhbEFsZXJ0TW9kYWxcIiApLm1vZGFsKCAnaGlkZScgKTtcbiAgdmFyIHJlc3BvbnNlRWxlbWVudCA9ICQoICcjJytkYXRhLmNvbnRhaW5lcl9pZCsnIC5uZXdzbGV0dGVyLXJlc3BvbnNlJyApO1xuICB2YXIgdHh0ID0gXCJMb2FkaW5nLi4uXCI7XG4gIGlmICggZ2VuZXJhbE1hcmtldCA9PT0gJ2ZyJyApIHtcbiAgICB0eHQgPSBcIkVudm9pIGVuIGNvdXJzLi4uXCI7XG4gIH1cbiAgcmVzcG9uc2VFbGVtZW50Lmh0bWwoIHR4dCApO1xuXG4gIHZhciBkYXRhRm9ybSA9IHtcbiAgICBlbWFpbDogZGF0YS5lbWFpbF9zdWIsXG4gICAgbGlzdDogZGF0YS5uZXdzbGV0dGVyX2lkLFxuICAgIG1hcmtldDogbWFya2V0LFxuICAgIHV0bV9zb3VyY2U6IGdldENvb2tpZSggXCJ1dG1fc291cmNlXCIgKSxcbiAgICB1dG1fbWVkaXVtOiBnZXRDb29raWUoIFwidXRtX21lZGl1bVwiICksXG4gICAgdXRtX2NhbXBhaWduOiBnZXRDb29raWUoIFwidXRtX2NhbXBhaWduXCIgKSxcbiAgICB1dG1fdGVybTogZ2V0Q29va2llKCBcInV0bV90ZXJtXCIgKSxcbiAgICB1dG1fY29udGVudDogZ2V0Q29va2llKCBcInV0bV9jb250ZW50XCIgKVxuICB9O1xuXG4gICQuYWpheCgge1xuICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgIHVybDogXCIvc3Vic2NyaWJlXCIsXG4gICAgZGF0YTogZGF0YUZvcm0sXG4gICAgc3VjY2VzczogZnVuY3Rpb24gKCByZXNwb25zZSApIHtcbiAgICAgIHZhciB0eHQgPSBcIllvdSdyZSBpbiwgdGhhbmtzIVwiO1xuICAgICAgaWYgKCBnZW5lcmFsTWFya2V0ID09PSAnZnInICkge1xuICAgICAgICB0eHQgPSBcIk1lcmNpICEgVm90cmUgaW5zY3JpcHRpb24gYSBiaWVuIMOpdMOpIHByaXNlIGVuIGNvbXB0ZS5cIjtcbiAgICAgIH1cbiAgICAgIHJlc3BvbnNlRWxlbWVudC5odG1sKCB0eHQgKTtcbiAgICB9XG4gIH0gKTtcblxuICAkKCBcIiNcIitkYXRhLmNvbnRhaW5lcl9pZCtcIiBmb3JtIGlucHV0W25hbWU9J2VtYWlsX3N1YiddXCIgKS52YWwoJycpO1xuXG4gIHZhciBpc01vZGFsID0gJCggJyMnK2RhdGEuY29udGFpbmVyX2lkKycgZm9ybScgKS5kYXRhKCBcImlzLW1vZGFsXCIgKTtcbiAgaWYgKCBpc01vZGFsID09PSB0cnVlICkge1xuICAgIHR4dCA9IFwiQ29udGludWUgc2hvcHBpbmdcIjtcbiAgICBpZiAoIGdlbmVyYWxNYXJrZXQgPT09ICdmcicgKSB7XG4gICAgICB0eHQgPSBcIkNvbnRpbnVlciBsZSBzaG9wcGluZ1wiO1xuICAgIH1cbiAgICAkKCAnIycrZGF0YS5jb250YWluZXJfaWQrJyAubW9kYWwtZm9vdGVyIGEnICkuaHRtbCggdHh0ICk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vLyBFbmQgRlIgRW1haWwgU3Vic2NyaWJlXG5cbi8vIFVTIEVtYWlsIHN1YnNjcmliZVxuaWYgKCBnZW5lcmFsTWFya2V0ICE9PSAnZnInICkge1xuICAkKCBmdW5jdGlvbiAoKSB7XG4gICAgJCggXCIubmV3c2xldHRlci1mb3JtXCIgKS5vbiggXCJzdWJtaXRcIiwgZnVuY3Rpb24gKCBlICkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgcmVzcG9uc2VFbGVtZW50ID0gJCggdGhpcyApLnBhcmVudCgpLmZpbmQoICcubmV3c2xldHRlci1yZXNwb25zZScgKTtcbiAgICAgIHZhciB0eHQgPSBcIkxvYWRpbmcuLi5cIjtcbiAgICAgIGlmICggZ2VuZXJhbE1hcmtldCA9PT0gJ2ZyJyApIHtcbiAgICAgICAgdHh0ID0gXCJFbnZvaSBlbiBjb3Vycy4uLlwiO1xuICAgICAgfVxuICAgICAgcmVzcG9uc2VFbGVtZW50Lmh0bWwoIHR4dCApO1xuXG4gICAgICB2YXIgZW1haWxFbGVtZW50ID0gJCggdGhpcyApLmZpbmQoIFwiaW5wdXRbbmFtZT0nZW1haWxfc3ViJ11cIiApO1xuICAgICAgdmFyIGVtYWlsID0gZW1haWxFbGVtZW50LnZhbCgpO1xuICAgICAgdmFyIGRhdGFGb3JtID0ge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgIGxpc3Q6IHBhcmFtc01haWxjaGltcC5uZXdzbGV0dGVyTGlzdElkLFxuICAgICAgICBtYXJrZXQ6IG1hcmtldCxcbiAgICAgICAgdXRtX3NvdXJjZTogZ2V0Q29va2llKCBcInV0bV9zb3VyY2VcIiApLFxuICAgICAgICB1dG1fbWVkaXVtOiBnZXRDb29raWUoIFwidXRtX21lZGl1bVwiICksXG4gICAgICAgIHV0bV9jYW1wYWlnbjogZ2V0Q29va2llKCBcInV0bV9jYW1wYWlnblwiICksXG4gICAgICAgIHV0bV90ZXJtOiBnZXRDb29raWUoIFwidXRtX3Rlcm1cIiApLFxuICAgICAgICB1dG1fY29udGVudDogZ2V0Q29va2llKCBcInV0bV9jb250ZW50XCIgKVxuICAgICAgfTtcbiAgICAgIHZhciBpc01vZGFsID0gJCggdGhpcyApLmRhdGEoIFwiaXMtbW9kYWxcIiApO1xuXG4gICAgICAkLmFqYXgoIHtcbiAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgIHVybDogXCIvc3Vic2NyaWJlXCIsXG4gICAgICAgIGRhdGE6IGRhdGFGb3JtLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIHJlc3BvbnNlICkge1xuICAgICAgICAgIHZhciB0eHQgPSBcIllvdSdyZSBpbiwgdGhhbmtzIVwiO1xuICAgICAgICAgIGlmICggZ2VuZXJhbE1hcmtldCA9PT0gJ2ZyJyApIHtcbiAgICAgICAgICAgIHR4dCA9IFwiTWVyY2kgISBWb3RyZSBpbnNjcmlwdGlvbiBhIGJpZW4gw6l0w6kgcHJpc2UgZW4gY29tcHRlLlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNwb25zZUVsZW1lbnQuaHRtbCggdHh0ICk7XG4gICAgICAgICAgZW1haWxFbGVtZW50LnZhbCggJycgKTtcbiAgICAgICAgICBpZiAoIHR5cGVvZiBtaXhwYW5lbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnZW5lcmFsTWFya2V0ICE9PSAnZnInICkge1xuICAgICAgICAgICAgbWl4cGFuZWwuYWxpYXMoIGVtYWlsICk7XG4gICAgICAgICAgICBtaXhwYW5lbC5wZW9wbGUuc2V0KCB7XG4gICAgICAgICAgICAgICckZW1haWwnOiBlbWFpbFxuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgbWl4cGFuZWwudHJhY2soIFwiTmV3c2xldHRlciBlbWFpbCBzdWJtaXR0ZWRcIiwge1xuICAgICAgICAgICAgICBcIklzIG1vZGFsXCI6IGlzTW9kYWxcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgaWYgKCBpc01vZGFsID09PSB0cnVlICkge1xuICAgICAgICAkKCB0aGlzICkuY2xvc2VzdCggJy5tb2RhbC1jb250ZW50JyApLmZpbmQoICcubW9kYWwtZm9vdGVyJyApLmZpbmQoICdhJyApLmh0bWwoICdDb250aW51ZSBzaG9wcGluZycgKTtcbiAgICAgIH1cblxuICAgIH0gKVxuICB9ICk7XG59O1xuLy8gRW5kIFVTIEVtYWlsIHN1YnNjcmliZVxuXG5cbi8vIFRyYWNrIHRhYiBzd2l0Y2hlc1xuJCggZG9jdW1lbnQgKS5vbiggJ3Nob3duLmJzLnRhYicsIGZ1bmN0aW9uICggZSApIHtcbiAgaWYgKCB0eXBlb2YgbWl4cGFuZWwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgbWl4cGFuZWwudHJhY2soIFwiUHJvZHVjdCB0YWIgc3dpdGNoZWRcIiwge1xuICAgICAgXCJTd2l0Y2hlZCB0b1wiOiBlLnRhcmdldC5pbm5lckhUTUxcbiAgICB9ICk7XG4gIH1cbn0gKTtcblxuXG5cbi8vIEhvbWVwYWdlIGhlcm8gdGhpbmdzXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiAoKSB7XG4gIGlmICggJCggJy5kaXNjbG9zdXJlLWljb24nICkubGVuZ3RoICkge1xuICAgIGZ1bmN0aW9uIG1ha2VaZXJvSWZOZWdhdGl2ZSggdmFsdWUgKSB7XG4gICAgICBpZiAoIHZhbHVlIDwgMSApIHtcbiAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgICQoIHdpbmRvdyApLnNjcm9sbCggZnVuY3Rpb24gKCkge1xuICAgICAgJCggXCIjY2Fyb3VzZWwtaGVybyAuZGlzY2xvc3VyZS1pY29uLCAuYWJvdXQtc2VjdGlvbi0taGVybyArIC5kaXNjbG9zdXJlLWljb25cIiApLmNzcyggXCJvcGFjaXR5XCIsIG1ha2VaZXJvSWZOZWdhdGl2ZSggTWF0aC5yb3VuZCggKCAxIC0gJCggd2luZG93ICkuc2Nyb2xsVG9wKCkgLyAyNTAgKSAqIDEwMCApICkgLyAxMDAgKTtcbiAgICB9ICk7XG4gIH1cblxuICBpZiAoICQoICcuaG9tZXBhZ2Utc2VjdGlvbi0taGVybycgKS5sZW5ndGggKSB7XG5cbiAgICBmdW5jdGlvbiBzZXRIZXJvSGVpZ2h0KCkge1xuICAgICAgdmFyIHZpZXdwb3J0V2lkdGggPSAkKCB3aW5kb3cgKS53aWR0aCgpLFxuICAgICAgICB2aWV3cG9ydEhlaWdodCA9ICQoIHdpbmRvdyApLmhlaWdodCgpLFxuICAgICAgICB0b3BPZkhlcm8gPSAkKCAnLmhvbWVwYWdlLXNlY3Rpb24tLWhlcm8nICkub2Zmc2V0KCkudG9wLFxuICAgICAgICBoZWlnaHRUb1NldDtcblxuICAgICAgaWYgKCB2aWV3cG9ydEhlaWdodCA8PSA1MjUgKSB7XG4gICAgICAgIGhlaWdodFRvU2V0ID0gNDYwOyAvLyBtaW4gaGVpZ2h0XG4gICAgICB9IGVsc2UgaWYgKCB2aWV3cG9ydFdpZHRoIDw9IDc2NyApIHtcbiAgICAgICAgaGVpZ2h0VG9TZXQgPSB2aWV3cG9ydEhlaWdodCAtIHRvcE9mSGVybztcblxuICAgICAgICBpZiAoIGhlaWdodFRvU2V0ID4gNDkwICkge1xuICAgICAgICAgIGhlaWdodFRvU2V0ID0gNDkwOyAvLyBtYXggaGVpZ2h0XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGVpZ2h0T2ZDYXJvdXNlbCA9ICQoICcuaG9tZXBhZ2Utc2VjdGlvbi0taGVybyAuY2Fyb3VzZWwtaW5uZXInICkuaGVpZ2h0KCksXG4gICAgICAgICAgaGVpZ2h0T2ZDb250ZW50ID0gJCggJy5jYXJvdXNlbC1pbm5lciAuaXRlbS5hY3RpdmUnICkuZmluZCggJ2RpdicgKS5oZWlnaHQoKSxcbiAgICAgICAgICBvZmZzZXRGb3JDb250ZW50ID0gbWFrZVplcm9JZk5lZ2F0aXZlKCAoIGhlaWdodFRvU2V0IC0gaGVpZ2h0T2ZDYXJvdXNlbCAtIGhlaWdodE9mQ29udGVudCApIC8gMiAtIDEwICk7XG5cbiAgICAgICAgJCggJ2RpdltjbGFzc149XCJob21lcGFnZS1zZWN0aW9uLS1oZXJvX19cIl0sIGRpdltjbGFzcyo9XCIgaG9tZXBhZ2Utc2VjdGlvbi0taGVyb19fXCJdJyApLmNzcygge1xuICAgICAgICAgIFwidG9wXCI6IG9mZnNldEZvckNvbnRlbnQgKyBcInB4XCJcbiAgICAgICAgfSApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCB2aWV3cG9ydFdpZHRoIDwgdmlld3BvcnRIZWlnaHQgKSB7IC8vIHBvcnRyYWl0XG4gICAgICAgICAgaGVpZ2h0VG9TZXQgPSA2MDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGVpZ2h0VG9TZXQgPSB2aWV3cG9ydEhlaWdodCAtIHRvcE9mSGVybztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggaGVpZ2h0VG9TZXQgPiA4ODAgKSB7XG4gICAgICAgICAgaGVpZ2h0VG9TZXQgPSA4ODA7XG4gICAgICAgIH1cblxuICAgICAgICAkKCAnZGl2W2NsYXNzXj1cImhvbWVwYWdlLXNlY3Rpb24tLWhlcm9fX1wiXSwgZGl2W2NsYXNzKj1cIiBob21lcGFnZS1zZWN0aW9uLS1oZXJvX19cIl0nICkuY3NzKCB7XG4gICAgICAgICAgXCJ0b3BcIjogMFxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCggJy5ob21lcGFnZS1zZWN0aW9uLS1oZXJvLS1taWRkbGUnICkuY3NzKCB7XG4gICAgICAgICAgXCJ0b3BcIjogXCI1MCVcIlxuICAgICAgICB9ICk7XG4gICAgICB9XG5cbiAgICAgICQoICcuaG9tZXBhZ2Utc2VjdGlvbi0taGVybycgKS5jc3MoIHtcbiAgICAgICAgXCJtaW4taGVpZ2h0XCI6IGhlaWdodFRvU2V0ICsgXCJweFwiXG4gICAgICB9ICk7XG4gICAgfVxuXG4gICAgc2V0SGVyb0hlaWdodCgpO1xuXG4gICAgaWYgKCAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCggJ0NyaU9TJyApICkge1xuICAgICAgJCggd2luZG93ICkucmVzaXplKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEhlcm9IZWlnaHQoKTtcbiAgICAgIH0gKTtcbiAgICB9XG4gIH1cblxuICAkKCB3aW5kb3cgKS5yZXNpemUoIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoICQoIHdpbmRvdyApLndpZHRoKCkgPj0gNzY4ICkge1xuICAgICAgJCggJy5tYXJrZXQtc3dpdGNoZXItZm9ybS0tbW9iaWxlJyApLmhpZGUoKTtcbiAgICB9XG4gIH0gKTtcblxufSApO1xuXG5cblxuLy8gTmF2IGRyb3Bkb3duIHRoaW5nc1xuJCggJyNtb2JpbGUtbmF2IC5kcm9wZG93bicgKS5vbiggJ3Nob3cuYnMuZHJvcGRvd24nLCBmdW5jdGlvbiAoIGUgKSB7XG4gICQoIHRoaXMgKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkuZmlyc3QoKS5zdG9wKCB0cnVlLCB0cnVlICkuc2xpZGVEb3duKCAzMDAgKTtcbn0gKTtcblxuJCggJyNtb2JpbGUtbmF2IC5kcm9wZG93bicgKS5vbiggJ2hpZGUuYnMuZHJvcGRvd24nLCBmdW5jdGlvbiAoIGUgKSB7XG4gICQoIHRoaXMgKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkuZmlyc3QoKS5zdG9wKCB0cnVlLCB0cnVlICkuc2xpZGVVcCggMjAwICk7XG59ICk7XG5cbiQoICcub2ZmY2FudmFzJyApLm9uKCAnc2hvdy5icy5vZmZjYW52YXMnLCBmdW5jdGlvbiAoIGUgKSB7XG4gICQoICdib2R5JyApLmFkZENsYXNzKCAncHJldmVudC1iYWNrZ3JvdW5kLXNjcm9sbCcgKTtcbiAgJCggJ2h0bWwnICkuYWRkQ2xhc3MoICdwcmV2ZW50LWJhY2tncm91bmQtc2Nyb2xsJyApO1xufSApO1xuXG4kKCAnLm9mZmNhbnZhcycgKS5vbiggJ2hpZGUuYnMub2ZmY2FudmFzJywgZnVuY3Rpb24gKCBlICkge1xuICAkKCAnYm9keScgKS5yZW1vdmVDbGFzcyggJ3ByZXZlbnQtYmFja2dyb3VuZC1zY3JvbGwnICk7XG4gICQoICdodG1sJyApLnJlbW92ZUNsYXNzKCAncHJldmVudC1iYWNrZ3JvdW5kLXNjcm9sbCcgKTtcbn0gKTtcblxuJCggJy5uYXZiYXItcmlnaHQgLmRyb3Bkb3duJyApLm9uKCAnc2hvd24uYnMuZHJvcGRvd24nLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWlnaHRPZk1lbnUgPSAkKCAnLm5hdmJhci1yaWdodCAuZHJvcGRvd24tbWVudScgKS5vdXRlckhlaWdodCgpO1xuICB2YXIgb2Zmc2V0T2ZNZW51ID0gJCggJy5uYXZiYXItcmlnaHQgLmRyb3Bkb3duLW1lbnUnIClbIDAgXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgJCggJyNkcm9wZG93bi1tZW51LWZ1bGwtd2lkdGgtbWFzaycgKS5jc3MoIHtcbiAgICAnZGlzcGxheSc6ICdibG9jaycsXG4gICAgJ2hlaWdodCc6IGhlaWdodE9mTWVudSArICdweCcsXG4gICAgJ3RvcCc6IG9mZnNldE9mTWVudS50b3AgKyAncHgnXG4gIH0gKTtcbn0gKTtcblxuJCggJy5uYXZiYXItcmlnaHQgLmRyb3Bkb3duJyApLm9uKCAnaGlkZGVuLmJzLmRyb3Bkb3duJywgZnVuY3Rpb24gKCkge1xuICAkKCAnI2Ryb3Bkb3duLW1lbnUtZnVsbC13aWR0aC1tYXNrJyApLmNzcygge1xuICAgICdkaXNwbGF5JzogJ25vbmUnXG4gIH0gKTtcbn0gKTtcblxuJCggJy5uYXZiYXItcmlnaHQgLmRyb3Bkb3duLXRvZ2dsZSwgLm5hdmJhci1yaWdodCAuZHJvcGRvd24tbWVudSwgI2Ryb3Bkb3duLW1lbnUtZnVsbC13aWR0aC1tYXNrJyApLm1vdXNlb3ZlciggZnVuY3Rpb24gKCkge1xuICBpZiAoICQoICcubmF2YmFyLXJpZ2h0IC5kcm9wZG93bi1tZW51JyApLm5vdCggJzp2aXNpYmxlJyApICkge1xuICAgICQoICcubmF2YmFyLXJpZ2h0IC5kcm9wZG93bi10b2dnbGUnICkuY2xpY2soKTtcbiAgfVxufSApO1xuXG4kKCAnLm5hdmJhci1yaWdodCAuZHJvcGRvd24tdG9nZ2xlLCAubmF2YmFyLXJpZ2h0IC5kcm9wZG93bi1tZW51LCAjZHJvcGRvd24tbWVudS1mdWxsLXdpZHRoLW1hc2snICkubW91c2VvdXQoIGZ1bmN0aW9uICgpIHtcbiAgaWYgKCAkKCAnLm5hdmJhci1yaWdodCAuZHJvcGRvd24tbWVudScgKS5pcyggJzp2aXNpYmxlJyApICkge1xuICAgICQoICcubmF2YmFyLXJpZ2h0IC5kcm9wZG93bi10b2dnbGUnICkuY2xpY2soKTtcbiAgfVxufSApO1xuXG5cblxuXG4vLyBUcmFjayBob3cgZGlkIHlvdSBoZWFyIGFib3V0IHVzXG4kKCAnI2hlYXItYWJvdXQtdXMgYScgKS5jbGljayggZnVuY3Rpb24gKCBlICkge1xuXG4gIHZhciBpbnZvaWNlSWQgPSAkKCB0aGlzICkuZGF0YSggJ29yZGVyJyApO1xuICB2YXIgdXBkYXRlZERhdGEgPSB7XG4gICAgXCJ2YWx1ZVwiOiAkKCB0aGlzICkudGV4dCgpXG4gIH07XG5cbiAgJC5hamF4KCB7XG4gICAgdXJsOiAnL3VwZGF0ZV9oZWFyZF9mcm9tLycgKyBpbnZvaWNlSWQsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBkYXRhOiB1cGRhdGVkRGF0YSxcbiAgfSApLmRvbmUoIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIGdlbmVyYWxNYXJrZXQgPT09ICdmcicgKSB7XG4gICAgICAkKCAnI2hlYXItYWJvdXQtdXMnICkuaHRtbCggXCI8cCBjbGFzcz0nbm8tYm90dG9tLW1hcmdpbic+PGI+TWVyY2kgcG91ciB2b3RyZSByZXRvdXIhPC9iPjwvcD5cIiApO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCAnI2hlYXItYWJvdXQtdXMnICkuaHRtbCggXCI8cCBjbGFzcz0nbm8tYm90dG9tLW1hcmdpbic+PGI+VGhhbmtzIGZvciB0aGUgZmVlZGJhY2shPC9iPjwvcD5cIiApO1xuICAgIH1cbiAgfSApLmZhaWwoIGZ1bmN0aW9uICgpIHtcblxuICB9ICk7XG5cbiAgcmV0dXJuIGZhbHNlO1xuXG59ICk7XG5cblxuXG4vLyBUaGluZ3MgcmVsYXRlZCB0byBtYXJrZXQgcGlja2VyIGZvcm0gb24gbW9iaWxlXG5mdW5jdGlvbiBmb2N1c01hcmtldFBpY2tlck9uTW9iaWxlKCkge1xuICAkKCAnLm1hcmtldC1zd2l0Y2hlci1mb3JtLS1tb2JpbGUnICkudG9nZ2xlKCk7XG4gICQoICcjdXNlckxvY2F0aW9uSW5wdXRUb3BNb2JpbGVOYXYnICkuZm9jdXMoKTtcbn1cblxuJCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24gKCkge1xuICBpZihpc19tb2JpbGUoKSkge1xuICAgICQoICdib2R5JyApLm9uKCAndG91Y2hzdGFydCcsIGZ1bmN0aW9uICggZSApIHtcbiAgICAgIGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLm5hdmJhci10b2dnbGVcIikubGVuZ3RoID4gMCAmJiAhJChlLnRhcmdldCkuY2xvc2VzdChcIi5tYXJrZXQtc3dpdGNoZXItZm9ybS0tbW9iaWxlXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCggJyN1c2VyTG9jYXRpb25JbnB1dFRvcE1vYmlsZU5hdicgKS50cmlnZ2VyKCAnYmx1cicgKTtcbiAgICAgICAgJCggJy5tYXJrZXQtc3dpdGNoZXItZm9ybS0tbW9iaWxlJyApLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9ICk7XG4gIH0gZWxzZSB7XG4gICAgaWYoZ2V0Q29va2llKCdoYXNfc2Vlbl9sb2NhdGlvbl90b29sdGlwJykgIT09ICd0cnVlJykge1xuICAgICAgJCgnLm1hcmtldC1zd2l0Y2hlci1mb3JtLS1uYXYgLmZhLW1hcC1tYXJrZXInKS50b29sdGlwKCAnc2hvdycsIHtcbiAgICAgICAgICBodG1sOiB0cnVlXG4gICAgICB9ICk7XG5cbiAgICAgIHNldENvb2tpZSgnaGFzX3NlZW5fbG9jYXRpb25fdG9vbHRpcCcsICd0cnVlJyk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy5tYXJrZXQtc3dpdGNoZXItZm9ybS0tbmF2IC5mYS1tYXAtbWFya2VyJykudG9vbHRpcCggJ2hpZGUnICk7XG4gICAgICB9LCA1MDAwICk7XG4gICAgfVxuICB9XG59ICk7XG5cblxuZnVuY3Rpb24gZm9jdXNNYXJrZXRQaWNrZXJOYXZGb3JtKCkge1xuICBpZihpc19tb2JpbGUoKSB8fCAkKCB3aW5kb3cgKS53aWR0aCgpIDwgNzY3KSB7XG4gICAgZm9jdXNNYXJrZXRQaWNrZXJPbk1vYmlsZSgpO1xuICB9IGVsc2Uge1xuICAgICQoXCIjdXNlckxvY2F0aW9uSW5wdXRUb3BOYXZcIikuZm9jdXMoKTtcbiAgfVxufVxuXG5cblxuJCggJyNlbWFpbC1yZWZlcnJhbC1mb3JtJyApLnN1Ym1pdChmdW5jdGlvbigpe1xuICB2YXIgcmVmZXJyZXJOYW1lID0gJCggJyNlbWFpbC1yZWZlcnJhbC1mb3JtIGlucHV0W25hbWU9bmFtZV0nICkudmFsKCk7XG5cbiAgJCggJyNlbWFpbC1yZWZlcnJhbC1mb3JtIGlucHV0W3R5cGU9ZW1haWxdJyApLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVtYWlsID0gdGhpcy52YWx1ZTtcbiAgICB2YXIgZGF0YUZvcm0gPSB7XG4gICAgICBlbWFpbDogZW1haWwsXG4gICAgICByZWZlcnJlck5hbWU6IHJlZmVycmVyTmFtZSxcbiAgICAgIGxpc3Q6IHBhcmFtc01haWxjaGltcC5uZXdzbGV0dGVyTGlzdElkLFxuICAgICAgbWFya2V0OiAndXMtdXMnLFxuICAgICAgdXRtX3NvdXJjZTogJ3JlZmVycmVyLWZvcm0nXG4gICAgfTtcblxuICAgICQuYWpheCgge1xuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICB1cmw6IFwiL3N1YnNjcmliZVwiLFxuICAgICAgZGF0YTogZGF0YUZvcm0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIHJlc3BvbnNlICkge1xuICAgICAgICAkKCAnI2VtYWlsLXJlZmVycmFsLWZvcm0nICkuaHRtbCggJzxwPjxiPlRoYW5rcyEgVXNlIHByb21vIGNvZGUgPHNwYW4gc3R5bGU9XCJwYWRkaW5nOjFweCA0cHg7Ym9yZGVyLXJhZGl1czoycHg7YmFja2dyb3VuZDojMDAwO2NvbG9yOiNmZmY7XCI+MjBGT1JZT1U8L3NwYW4+IGR1cmluZyBjaGVja291dCB0byBnZXQgeW91ciAkMjAgb2ZmPC9iPjwvcD4nICk7XG4gICAgICAgICQoICcjZW1haWwtcmVmZXJyYWwtZm9ybSBpbnB1dCcgKS52YWwoICcnICk7XG4gICAgICB9XG4gICAgfSApO1xuICB9KTtcblxuICByZXR1cm4gZmFsc2U7XG59KTtcblxuXG5cbnZhciBhZGRUb1dhaXRpbmdMaXN0ID0gZnVuY3Rpb24gKCB0aGF0ICkge1xuICB2YXIgZW1haWwgPSAkKCB0aGF0ICkucGFyZW50KCkuZmluZCggXCJpbnB1dFtuYW1lPSdlbWFpbF9zdWInXVwiICkudmFsKClcbiAgdmFyIHByb2R1Y3QgPSAkKCB0aGF0ICkucGFyZW50KCkuZmluZCggXCJpbnB1dFtuYW1lPSdwcm9kdWN0J11cIiApLnZhbCgpXG4gIHZhciBkYXRhRm9ybSA9IHtcbiAgICBlbWFpbDogZW1haWwsXG4gICAgcHJvZHVjdDogcHJvZHVjdCxcbiAgICBsaXN0OiBwYXJhbXNNYWlsY2hpbXAud2FpdGluZ0xpc3RJZCxcbiAgICBtYXJrZXQ6IG1hcmtldCxcbiAgICB1dG1fc291cmNlOiBnZXRDb29raWUoIFwidXRtX3NvdXJjZVwiICksXG4gICAgdXRtX21lZGl1bTogZ2V0Q29va2llKCBcInV0bV9tZWRpdW1cIiApLFxuICAgIHV0bV9jYW1wYWlnbjogZ2V0Q29va2llKCBcInV0bV9jYW1wYWlnblwiICksXG4gICAgdXRtX3Rlcm06IGdldENvb2tpZSggXCJ1dG1fdGVybVwiICksXG4gICAgdXRtX2NvbnRlbnQ6IGdldENvb2tpZSggXCJ1dG1fY29udGVudFwiIClcbiAgfTtcblxuICAkLmFqYXgoIHtcbiAgICB0eXBlOiBcIlBPU1RcIixcbiAgICB1cmw6IFwiL3N1YnNjcmliZVwiLFxuICAgIGRhdGE6IGRhdGFGb3JtLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7XG4gICAgICB2YXIgdHh0ID0gXCJUaGFuayB5b3UhIFdlJ2xsIGxldCB5b3Uga25vdyB3aGVuIHRoaXMgaXMgYXZhaWxhYmxlIGFnYWluXCI7XG4gICAgICBpZiAoIGdlbmVyYWxNYXJrZXQgPT09ICdmcicgKSB7XG4gICAgICAgIHR4dCA9IFwiTWVyY2kgISBOb3VzIHZvdXMgZmVyb25zIHNhdm9pciBxdWFuZCBpbCBzZXJhIGRlIG5vdXZlYXUgZGlzcG9uaWJsZS5cIjtcbiAgICAgIH1cbiAgICAgICQoIFwiLndhaXRpbmctbGlzdC1yZXNwb25zZVwiICkuaHRtbCggdHh0ICk7XG4gICAgICAkKCB0aGF0ICkucGFyZW50KCkuZmluZCggXCJpbnB1dFtuYW1lPSdlbWFpbF9zdWInXVwiICkudmFsKCBcIlwiIClcbiAgICB9XG4gIH0gKTtcbn07XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVNYXJrZXRTZWxlY3Rpb24oKSB7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIHR5cGVzOiBbICcoY2l0aWVzKScgXSxcbiAgICBjb21wb25lbnRSZXN0cmljdGlvbnM6IHtcbiAgICAgIGNvdW50cnk6IFsgXCJVU1wiLCBcIkZSXCIgXVxuICAgIH1cbiAgfTtcbiAgdmFyIGNvbXBvbmVudEZvcm0gPSB7XG4gICAgc3RyZWV0X251bWJlcjogJ3Nob3J0X25hbWUnLFxuICAgIHJvdXRlOiAnbG9uZ19uYW1lJyxcbiAgICBsb2NhbGl0eTogJ2xvbmdfbmFtZScsXG4gICAgYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xOiAnc2hvcnRfbmFtZScsXG4gICAgYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yOiAnc2hvcnRfbmFtZScsXG4gICAgY291bnRyeTogJ2xvbmdfbmFtZScsXG4gICAgcG9zdGFsX2NvZGU6ICdzaG9ydF9uYW1lJyxcbiAgICBuZWlnaGJvcmhvb2Q6ICdzaG9ydF9uYW1lJyxcbiAgICBjb3VudHJ5OiAnc2hvcnRfbmFtZSdcbiAgfTtcblxuICB2YXIgaWRBcnJheSA9IFtdO1xuXG4gIGlkQXJyYXkucHVzaCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwidXNlckxvY2F0aW9uSW5wdXRUb3BOYXZcIiApICk7XG4gIGlkQXJyYXkucHVzaCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwidXNlckxvY2F0aW9uSW5wdXRUb3BNb2JpbGVOYXZcIiApICk7XG5cbiAgaWYgKCBjdXJyZW50UGFnZSA9PT0gXCJwcm9kdWN0XCIgKSB7XG4gICAgaWRBcnJheS5wdXNoKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJ1c2VyTG9jYXRpb25JbnB1dFByb2R1Y3RcIiApICk7XG4gIH1cblxuICB2YXIgc2V0VXNlckxvY2F0aW9uQ29va2llcyA9IGZ1bmN0aW9uICggZm9ybWF0dGVkQWRkciApIHtcbiAgICB2YXIgdXNlckxvY2F0aW9uID0gZW5jb2RlVVJJQ29tcG9uZW50KCBmb3JtYXR0ZWRBZGRyLmxvY2FsaXR5ICsgXCIsIFwiICsgZm9ybWF0dGVkQWRkci5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzEgKTtcbiAgICBpZiAoIGZvcm1hdHRlZEFkZHIuY291bnRyeSA9PT0gJ0ZSJyAmJiBmb3JtYXR0ZWRBZGRyLmFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMiAhPT0gdW5kZWZpbmVkICYmIGZvcm1hdHRlZEFkZHIuYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yICE9PSBmb3JtYXR0ZWRBZGRyLmxvY2FsaXR5ICkge1xuICAgICAgdXNlckxvY2F0aW9uID0gZW5jb2RlVVJJQ29tcG9uZW50KCBmb3JtYXR0ZWRBZGRyLmxvY2FsaXR5ICsgXCIsIFwiICsgZm9ybWF0dGVkQWRkci5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzIgKTtcbiAgICB9XG5cbiAgICBzZXRDb29raWUoIFwidXNlckxvY2F0aW9uXCIsIHVzZXJMb2NhdGlvbiApO1xuICAgIHNldENvb2tpZSggXCJ1c2VyQ2l0eVwiLCBmb3JtYXR0ZWRBZGRyLmxvY2FsaXR5ICk7XG4gICAgc2V0Q29va2llKCBcInVzZXJDb3VudHJ5XCIsIGZvcm1hdHRlZEFkZHIuY291bnRyeS50b0xvd2VyQ2FzZSgpICk7XG4gIH1cblxuICB2YXIgZm9ybWF0VXNlckxvY2F0aW9uRGF0YSA9IGZ1bmN0aW9uICggbWFya2V0LCBmb3JtYXR0ZWRBZGRyICkge1xuICAgIHZhciB1c2VyTG9jYXRpb24gPSBmb3JtYXR0ZWRBZGRyLmxvY2FsaXR5ICsgXCIsIFwiICsgZm9ybWF0dGVkQWRkci5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzE7XG4gICAgaWYgKCBmb3JtYXR0ZWRBZGRyLmNvdW50cnkgPT09ICdGUicgJiYgZm9ybWF0dGVkQWRkci5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzIgIT09IHVuZGVmaW5lZCAmJiBmb3JtYXR0ZWRBZGRyLmFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMiAhPT0gZm9ybWF0dGVkQWRkci5sb2NhbGl0eSApIHtcbiAgICAgIHVzZXJMb2NhdGlvbiA9IGZvcm1hdHRlZEFkZHIubG9jYWxpdHkgKyBcIiwgXCIgKyBmb3JtYXR0ZWRBZGRyLmFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMjtcbiAgICB9XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICB1c2VyQ2l0eTogZm9ybWF0dGVkQWRkci5sb2NhbGl0eSxcbiAgICAgIHVzZXJDb3VudHJ5OiBmb3JtYXR0ZWRBZGRyLmNvdW50cnksXG4gICAgICB1c2VyTG9jYXRpb246IHVzZXJMb2NhdGlvbixcbiAgICAgIGhhc0xvY2F0aW9uOiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKCBtYXJrZXQgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgIGRhdGEudXNlck1hcmtldCA9IG1hcmtldC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLy8gTmF2YmFyIGNpdHkgYXV0Y29tcGxldGVcbiAgdmFyIGluaXRpYWxpemVBdXRvY29tcGxldGUgPSBmdW5jdGlvbiAoIGlkX2F1dG8gKSB7XG4gICAgaWRfYXV0by5hZGRFdmVudExpc3RlbmVyKCAnZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIGlkX2F1dG8uaWQgPT09IFwidXNlckxvY2F0aW9uSW5wdXRUb3BOYXZcIiApIHtcbiAgICAgICAgJCggXCIubWFya2V0LXN3aXRjaGVyLWZvcm0tLW5hdlwiICkuYXBwZW5kKCAkKCBcIi5wYWMtY29udGFpbmVyXCIgKSApO1xuICAgICAgfSBlbHNlIGlmICggaWRfYXV0by5pZCA9PT0gXCJ1c2VyTG9jYXRpb25JbnB1dFRvcE1vYmlsZU5hdlwiICkge1xuICAgICAgICAkKCBcIi5tYXJrZXQtc3dpdGNoZXItZm9ybS0tbW9iaWxlXCIgKS5hcHBlbmQoICQoIFwiLnBhYy1jb250YWluZXJcIiApICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCBcIi5tYXJrZXQtc3dpdGNoZXItZm9ybS0tcHJvZHVjdFwiICkuYXBwZW5kKCAkKCBcIi5wYWMtY29udGFpbmVyXCIgKSApO1xuICAgICAgfVxuICAgIH0gKTtcblxuICAgIHZhciB1c2VySW5wdXQgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLkF1dG9jb21wbGV0ZSggaWRfYXV0bywgb3B0aW9ucyApO1xuXG4gICAgJCggJy5tYXJrZXQtc3dpdGNoZXItZm9ybScgKS5zdWJtaXQoIGZ1bmN0aW9uICggZSApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9ICk7XG5cbiAgICB1c2VySW5wdXQuYWRkTGlzdGVuZXIoICdwbGFjZV9jaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBsYWNlID0gdXNlcklucHV0LmdldFBsYWNlKCk7XG4gICAgICBpZiAoICFwbGFjZS5oYXNPd25Qcm9wZXJ0eSggXCJhZGRyZXNzX2NvbXBvbmVudHNcIiApICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAkKCAnLm1hcmtldC1zd2l0Y2hlci1mb3JtIC5mYS1zcGlubmVyJyApLnNob3coKTtcbiAgICAgIHZhciBmb3JtYXR0ZWRBZGRyID0ge307XG4gICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBwbGFjZS5hZGRyZXNzX2NvbXBvbmVudHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIHZhciBhZGRyZXNzVHlwZSA9IHBsYWNlLmFkZHJlc3NfY29tcG9uZW50c1sgaSBdLnR5cGVzWyAwIF07XG4gICAgICAgIGlmICggY29tcG9uZW50Rm9ybVsgYWRkcmVzc1R5cGUgXSApIHtcbiAgICAgICAgICB2YXIgdmFsID0gcGxhY2UuYWRkcmVzc19jb21wb25lbnRzWyBpIF1bIGNvbXBvbmVudEZvcm1bIGFkZHJlc3NUeXBlIF0gXTtcbiAgICAgICAgICBmb3JtYXR0ZWRBZGRyWyBhZGRyZXNzVHlwZSBdID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGZvcm1hdFVzZXJMb2NhdGlvbkRhdGEgKCB1bmRlZmluZWQsIGZvcm1hdHRlZEFkZHIgKTtcbiAgICAgIGlmICggaWRfYXV0by5pZCA9PT0gJ3VzZXJMb2NhdGlvbklucHV0UHJvZHVjdCcgKSB7IC8vIElmIHRyaWdnZXJlZCBvbiBwcm9kdWN0IHBhZ2VcbiAgICAgICAgJCggXCIubWFya2V0LXN3aXRjaGVyLWZvcm0tLW5hdiAuZmEtc3BpblwiICkuaGlkZSgpO1xuICAgICAgICBQcm9kdWN0LmRpc3BsYXlEZWxpdmVyeUNvc3QoIGRhdGEsIHRydWUgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRGVsaXZlcnkuZ2V0SHViQnlDaXR5KCBkYXRhICkudGhlbiggZnVuY3Rpb24gKCBkYXRhICkge1xuICAgICAgICAgICAgc2V0VXNlckxvY2F0aW9uQ29va2llcyggZm9ybWF0dGVkQWRkciApO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXRVc2VyTG9jYXRpb25EYXRhICggZGF0YS5odWJzLmtleSwgZm9ybWF0dGVkQWRkciApO1xuICAgICAgICAgICAgbWFya2V0U2NvcGUuc2V0TWFya2V0KCBkYXRhICkudGhlbiggZnVuY3Rpb24gKCBtYXJrZXQgKSB7XG4gICAgICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCJcXC9cIit3aW5kb3cubWFya2V0K1wiJFwiKTtcblxuICAgICAgICAgICAgICBpZihyZS50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShyZSwgXCJcIik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgIH0gKTtcbiAgICAgIH1cbiAgICB9ICk7XG5cbiAgfVxuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBpZEFycmF5Lmxlbmd0aDsgaSsrICkge1xuICAgIGluaXRpYWxpemVBdXRvY29tcGxldGUoIGlkQXJyYXlbIGkgXSApO1xuICB9XG59XG5cbmlmICggY3VycmVudFBhZ2UgIT09IFwiY2hlY2tvdXRcIiApIHtcbiAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoIHdpbmRvdywgJ2xvYWQnLCBpbml0aWFsaXplTWFya2V0U2VsZWN0aW9uICk7XG59XG5cbmlmICggZ2V0Q29va2llKCBcInVzZXJMb2NhdGlvblwiICkgIT09IFwiXCIgKSB7XG4gIGlmICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwidXNlckxvY2F0aW9uSW5wdXRUb3BOYXZcIiApICE9PSBudWxsICkge1xuXG4gICAgJCggJy5tYXJrZXQtc3dpdGNoZXItZm9ybSBpbnB1dCcgKS5hdHRyKCAndmFsdWUnLCBkZWNvZGVVUklDb21wb25lbnQoIGdldENvb2tpZSggXCJ1c2VyTG9jYXRpb25cIiApICkgKTtcbiAgfVxufVxuXG4kKCAnLm1hcmtldC1zd2l0Y2hlci1mb3JtIGlucHV0JyApLmZvY3VzKCBmdW5jdGlvbiAoKSB7XG4gICQoIHRoaXMgKS5zZWxlY3QoKTtcbn0gKTtcblxuXG5cbi8vIFVnbHkgaGFjayB0byBoYW5kbGUgc29tZSBjdXR0aW5nIG9mZiBvbiBpT1NcbiQoJyN1c2VyTG9jYXRpb25JbnB1dFByb2R1Y3QnKS5mb2N1cyhmdW5jdGlvbigpe1xuICBpZigkKCB3aW5kb3cgKS53aWR0aCgpIDwgNzY3ICYmICBpc19tb2JpbGUoKSkge1xuICAgICQoJy5wbGFudC1kZXRhaWxzJykuY3NzKHsncGFkZGluZy1ib3R0b20nOiAnNjBweCd9KTtcbiAgfVxufSk7XG5cbiQoJyN1c2VyTG9jYXRpb25JbnB1dFByb2R1Y3QnKS5ibHVyKGZ1bmN0aW9uKCl7XG4gIGlmKCQoIHdpbmRvdyApLndpZHRoKCkgPCA3NjcgJiYgIGlzX21vYmlsZSgpKSB7XG4gICAgJCgnLnBsYW50LWRldGFpbHMnKS5jc3MoeydwYWRkaW5nLWJvdHRvbSc6ICcwJ30pO1xuICB9XG59KTtcblxuXG5cbndpbmRvdy5tYXJrZXRTY29wZSA9IHt9O1xubWFya2V0U2NvcGUuc2V0TWFya2V0ID0gZnVuY3Rpb24gKCBkYXRhR2VvICkge1xuICByZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgIHZhciB1cmwgPSBcIi9tYXJrZXQvXCI7XG4gICAgc3dpdGNoICggbWFya2V0ICkge1xuICAgICAgY2FzZSAnZnItcGFyaXMnOlxuICAgICAgY2FzZSAnZnItZnInOlxuICAgICAgICB1cmwgKz0gXCI/bGFuZz1mclwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHVybCArPSBcIj9sYW5nPWVuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHVzZXJDaXR5OiBkYXRhR2VvLnVzZXJDaXR5LFxuICAgICAgdXNlckNvdW50cnk6IGRhdGFHZW8udXNlckNvdW50cnksXG4gICAgICB1c2VyTG9jYXRpb246IGRhdGFHZW8udXNlckxvY2F0aW9uLFxuICAgICAgaGFzTG9jYXRpb246IGRhdGFHZW8uaGFzTG9jYXRpb24sXG4gICAgICB1c2VyTWFya2V0OiBkYXRhR2VvLnVzZXJNYXJrZXRcbiAgICB9XG5cbiAgICAkLnBvc3QoIHVybCwgZGF0YSwgZnVuY3Rpb24gKCBkYXRhICkge1xuICAgICAgaWYgKCB0eXBlb2YgbWl4cGFuZWwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgIG1peHBhbmVsLnRyYWNrKCBcIlN3aXRjaGVkIG1hcmtldFwiLCB7XG4gICAgICAgICAgXCJTd2l0Y2hlZCB0b1wiOiBkYXRhLm1hcmtldFxuICAgICAgICB9ICk7XG4gICAgICB9XG4gICAgICBzZXRDb29raWUoIFwidXNlck1hcmtldFwiLCBkYXRhLm1hcmtldC50b0xvd2VyQ2FzZSgpIClcbiAgICAgIHNldENvb2tpZSggXCJoYXNMb2NhdGlvblwiLCB0cnVlICk7XG4gICAgICByZXNvbHZlKCBkYXRhLm1hcmtldCApO1xuICAgIH0gKTtcbiAgfSApO1xufVxubWFya2V0U2NvcGUuZ2V0TWFya2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICQuZ2V0KCBcIi9tYXJrZXQvXCIsIGZ1bmN0aW9uICggZGF0YSApIHtcbiAgICAgIHJlc29sdmUoIGRhdGEgKVxuICAgIH0gKS5mYWlsKCBmdW5jdGlvbiAoKSB7XG4gICAgICByZWplY3QoIFwiY2FuJ3QgZmluZCBtYXJrZXRcIiApO1xuICAgIH0gKTtcbiAgfSApO1xufTtcbiJdfQ==

(function(){window.LGTracker={},window.trackArr=trackArr||[],LGTracker.trackPage=function(r){var e=0;nIntervId=setInterval(function(){if("undefined"!=typeof mixpanel){for(var r=0;r<trackArr.length;r++)switch(trackArr[r].event){case"track":var a="PF - "+trackArr[r].content+" Viewed";mixpanel.track(a);break;case"identify":mixpanel.identify(trackArr[r].content);break;case"track_charge":mixpanel.people.track_charge(trackArr[r].content);break;case"people_set":mixpanel.people.set(trackArr[r].content);break;case"register":mixpanel.register(trackArr[r].content)}trackArr=[],clearInterval(nIntervId)}else 40===++e&&clearInterval(nIntervId)},150)}}).call(this),LGTracker.trackPage(currentPage);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWNraW5nLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkxHVHJhY2tlciIsInRyYWNrQXJyIiwidHJhY2tQYWdlIiwicGFnZSIsImF0dGVtcHQiLCJuSW50ZXJ2SWQiLCJzZXRJbnRlcnZhbCIsIm1peHBhbmVsIiwiaSIsImxlbmd0aCIsImV2ZW50IiwidHJhY2tJbmZvIiwiY29udGVudCIsInRyYWNrIiwiaWRlbnRpZnkiLCJwZW9wbGUiLCJ0cmFja19jaGFyZ2UiLCJzZXQiLCJyZWdpc3RlciIsImNsZWFySW50ZXJ2YWwiLCJjYWxsIiwidGhpcyIsImN1cnJlbnRQYWdlIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNFQSxPQUFPQyxVQUFZLEdBQ25CRCxPQUFPRSxTQUFXQSxVQUFZLEdBQzlCRCxVQUFVRSxVQUFZLFNBQVVDLEdBQzlCLElBQ0lDLEVBQVUsRUFDZEMsVUFBWUMsWUFBYSxXQUN2QixHQUF5QixvQkFBYkMsU0FBMkIsQ0FHckMsSUFBTSxJQUFJQyxFQUFJLEVBQUdBLEVBQUlQLFNBQVNRLE9BQVFELElBRXBDLE9BQVNQLFNBQVVPLEdBQUlFLE9BQ3JCLElBQUssUUFDSCxJQUFJQyxFQUFZLFFBQVVWLFNBQVVPLEdBQUlJLFFBQVUsVUFDbERMLFNBQVNNLE1BQU9GLEdBQ2hCLE1BQ0YsSUFBSyxXQUVISixTQUFTTyxTQUFVYixTQUFVTyxHQUFJSSxTQUNqQyxNQUNGLElBQUssZUFFSEwsU0FBU1EsT0FBT0MsYUFBY2YsU0FBVU8sR0FBSUksU0FDNUMsTUFDRixJQUFLLGFBRUhMLFNBQVNRLE9BQU9FLElBQUtoQixTQUFVTyxHQUFJSSxTQUNuQyxNQUNGLElBQUssV0FFSEwsU0FBU1csU0FBVWpCLFNBQVVPLEdBQUlJLFNBTXZDWCxTQUFXLEdBQ1hrQixjQUFlZCxnQkFsQ0YsT0FvQ2JELEdBRUVlLGNBQWVkLFlBR2xCLFFBRUhlLEtBQU1DLE1BRVZyQixVQUFVRSxVQUFXb0IiLCJmaWxlIjoidHJhY2tpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuTEdUcmFja2VyID0ge307XG4gIHdpbmRvdy50cmFja0FyciA9IHRyYWNrQXJyIHx8IFtdO1xuICBMR1RyYWNrZXIudHJhY2tQYWdlID0gZnVuY3Rpb24oIHBhZ2UgKSB7XG4gICAgdmFyIG1heEF0dGVtcHQgPSA0MDtcbiAgICB2YXIgYXR0ZW1wdCA9IDA7XG4gICAgbkludGVydklkID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCB0eXBlb2YgbWl4cGFuZWwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgIC8vIHZhciB0cmFja0luZm8gPSBcIlBGIC0gXCIgKyBwYWdlICsgXCIgVmlld2VkXCI7XG4gICAgICAgIC8vIG1peHBhbmVsLnRyYWNrKCB0cmFja0luZm8gKTtcbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdHJhY2tBcnIubGVuZ3RoOyBpKysgKSB7XG5cbiAgICAgICAgICBzd2l0Y2ggKCB0cmFja0FyclsgaSBdLmV2ZW50ICkge1xuICAgICAgICAgICAgY2FzZSBcInRyYWNrXCI6XG4gICAgICAgICAgICAgIHZhciB0cmFja0luZm8gPSBcIlBGIC0gXCIgKyB0cmFja0FyclsgaSBdLmNvbnRlbnQgKyBcIiBWaWV3ZWRcIjtcbiAgICAgICAgICAgICAgbWl4cGFuZWwudHJhY2soIHRyYWNrSW5mbyApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpZGVudGlmeVwiOlxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggXCJpZGVudGlmeVwiLCB0cmFja0FyclsgaSBdLmNvbnRlbnQgKTtcbiAgICAgICAgICAgICAgbWl4cGFuZWwuaWRlbnRpZnkoIHRyYWNrQXJyWyBpIF0uY29udGVudCApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0cmFja19jaGFyZ2VcIjpcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIFwidHJhY2tfY2hhcmdlXCIsIHRyYWNrQXJyWyBpIF0uY29udGVudCApO1xuICAgICAgICAgICAgICBtaXhwYW5lbC5wZW9wbGUudHJhY2tfY2hhcmdlKCB0cmFja0FyclsgaSBdLmNvbnRlbnQgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGVvcGxlX3NldFwiOlxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggXCJwZW9wbGVfc2V0XCIsIHRyYWNrQXJyWyBpIF0uY29udGVudCApO1xuICAgICAgICAgICAgICBtaXhwYW5lbC5wZW9wbGUuc2V0KCB0cmFja0FyclsgaSBdLmNvbnRlbnQgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVnaXN0ZXJcIjpcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIFwicmVnaXN0ZXJcIiwgdHJhY2tBcnJbIGkgXS5jb250ZW50ICk7XG4gICAgICAgICAgICAgIG1peHBhbmVsLnJlZ2lzdGVyKCB0cmFja0FyclsgaSBdLmNvbnRlbnQgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdHJhY2tBcnIuc3BsaWNlKCBpLCAxICk7IC8vUmVtb3ZlIHRyYWNrZWQgZXZlbnRcbiAgICAgICAgfVxuICAgICAgICB0cmFja0FyciA9IFtdOyAvLyBFbXB0eWluZyBhcnJheVxuICAgICAgICBjbGVhckludGVydmFsKCBuSW50ZXJ2SWQgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0dGVtcHQrKztcbiAgICAgICAgaWYgKCBhdHRlbXB0ID09PSBtYXhBdHRlbXB0ICkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIG5JbnRlcnZJZCApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTUwICk7XG4gIH1cbn0gKS5jYWxsKCB0aGlzICk7XG5cbkxHVHJhY2tlci50cmFja1BhZ2UoIGN1cnJlbnRQYWdlICk7XG4iXX0=
